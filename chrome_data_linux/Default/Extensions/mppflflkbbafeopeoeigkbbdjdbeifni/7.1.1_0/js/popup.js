(e=>{function t(t){for(var n,a,c=t[0],l=t[1],d=t[2],u=0,p=[];c.length>u;u++)({}).hasOwnProperty.call(r,a=c[u])&&r[a]&&p.push(r[a][0]),r[a]=0;for(n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var e,t=0;i.length>t;t++){for(var o=i[t],n=!0,c=1;o.length>c;c++)0!==r[o[c]]&&(n=!1);n&&(i.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={2:0},i=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=(e,t,o)=>{a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=(e,t)=>{if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,(t=>e[t]).bind(null,n));return o},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,"a",t),t},a.o=(e,t)=>({}.hasOwnProperty.call(e,t)),a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;c.length>d;d++)t(c[d]);var s=l;i.push([172,0]),o()})({10(e,t,o){o(12),o(14);var n=o(0),r=o(9);t.a=e=>{const t=Object(r.c)();return n.useCallback((...o)=>t(e(...o)),[e,t])}},109(e,t,o){e.exports=o.p+"images/folder.svg"},111(e,t,o){(e=>{o(11),o(12),o(14),o(171);var n,r=o(174),i=o(0),a=o(117),c=o(29),l=o(2),d=o(112),s=o(61),u=o(116);function p(e,t,o,r){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var c=Array(a),l=0;a>l;l++)c[l]=arguments[l+3];t.children=c}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}const f=(e,t)=>t.treeInfo.children[e].id,y=({data:e,index:t,style:o})=>{const n=e.treeInfo.children[t],r=e.draggingId===n.id;return p(u.a,{bookmarkInfo:n,className:s.a["list-item"],iconSize:e.iconSize,isDisableDragAndDrop:e.isDisableDragAndDrop,isHighlighted:null!==e.draggingId?r:e.highlightedId===n.id,isSearching:e.isSearching,isShowTooltip:e.isShowTooltip,isUnclickable:r,onAuxClick:e.onRowAuxClick,onClick:e.onRowClick,onDragOver:e.onRowDragOver,onDragStart:e.onRowDragStart,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,style:o})};t.a=t=>{const o=i.useRef(null),[n,s]=i.useState(0),u=i.useCallback(e=>{let o=t.rowHeight;return t.treeInfo.children[e].type===l.a.SEPARATOR&&(o/=2),e===t.treeInfo.children.length-1&&(o+=2*l.b),o},[t.rowHeight,t.treeInfo.children]);i.useEffect(()=>{if(!o.current)return;o.current.resetAfterIndex(0,!0);const e=l.c-o.current._outerRef.getBoundingClientRect().top,n=t.rowHeight,i=t.treeInfo.children.reduce((e,t,o)=>e+u(o),0);s(r.a(n,e,i))},[u,t.rowHeight,t.treeInfo.children]),i.useEffect(()=>{t.lastScrollTop&&o.current&&o.current.scrollTo(t.lastScrollTop)},[t.lastScrollTop]),i.useEffect(()=>{e(()=>{void 0!==t.scrollToIndex&&o.current&&o.current.scrollToItem(t.scrollToIndex)})},[t.scrollToIndex]);const p=i.useMemo(()=>({draggingId:t.draggingId,highlightedId:t.highlightedId,iconSize:t.iconSize,isDisableDragAndDrop:t.isDisableDragAndDrop,isSearching:t.isSearching,isShowTooltip:t.isShowTooltip,onRowAuxClick:t.onRowAuxClick,onRowClick:t.onRowClick,onRowDragOver:t.onRowDragOver,onRowDragStart:t.onRowDragStart,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,treeInfo:t.treeInfo}),[t.draggingId,t.highlightedId,t.iconSize,t.isDisableDragAndDrop,t.isSearching,t.isShowTooltip,t.onRowAuxClick,t.onRowClick,t.onRowDragOver,t.onRowDragStart,t.onRowMouseEnter,t.onRowMouseLeave,t.treeInfo]),b=i.useRef(),{onMouseMove:h}=Object(d.a)();Object(c.a)(b.current,"mousemove",h);const m=t.treeInfo.children.length;return 0===m?t.noRowsRenderer():i.createElement(a.a,{ref:o,outerRef:b,height:n,itemCount:m,itemData:p,itemKey:f,itemSize:u,onScroll:t.onScroll,width:t.listItemWidth},y)}})(o(168).setImmediate)},112(e,t,o){var n=o(0),r=o(28);t.a=({margin:e=20}={})=>{const{activeKey:t}=n.useContext(r.a),o=null!==t,i=n.useRef(),a=n.useCallback(()=>{void 0!==i.current&&(clearInterval(i.current),i.current=void 0)},[]);return n.useEffect(()=>{o||a()},[a,o]),n.useMemo(()=>{const t=(e,{isUpward:t})=>{a(),i.current=setInterval(()=>{e.scrollTo({top:e.scrollTop+20*(t?-1:1)})},50)};return{onMouseMove(n){if(o&&n.currentTarget instanceof HTMLElement){const o=n.currentTarget.getBoundingClientRect(),r=Math.abs(o.top-n.clientY),i=Math.abs(o.bottom-n.clientY);r>e?i>e?a():t(n.currentTarget,{isUpward:!1}):t(n.currentTarget,{isUpward:!0})}}}},[a,o,e])}},114(e,t,o){e.exports=o.p+"images/cancel.svg"},115(e,t,o){e.exports=o.p+"images/search.svg"},116(e,t,o){o(11);var n,r=o(21),i=o.n(r),a=o(0),c=o(10),l=o(2),d=o(13),s=(o(12),o(14),o(28)),u=e=>{const t=a.useContext(s.a),{handleClickCapture:o,handleMouseUpCapture:n}=(()=>{const[e,t]=a.useState(!1);return{handleClickCapture:a.useCallback(o=>{e&&(o.stopPropagation(),t(!1))},[e]),handleMouseUpCapture:a.useCallback(()=>{t(!0)},[])}})(),{handleDragStart:r,handleDragOver:i,handleMouseDown:c,handleMouseUp:l}=(({itemKey:e,onDragOver:t,onDragStart:o})=>{const{activeKey:n,mouseCoordinate:r,pendingKey:i,setActiveKey:c,setMouseCoordinate:l,setPendingKey:d,unsetAllKeys:u}=a.useContext(s.a);return{handleDragOver:a.useCallback(o=>{t(o,{activeKey:n,itemKey:e})},[n,e,t]),handleDragStart:a.useCallback(t=>{null!==i&&(Math.abs(r.x-t.clientX)>5||Math.abs(r.y-t.clientY)>5)&&(c(i),o(t,{activeKey:i,itemKey:e}))},[e,r.x,r.y,o,i,c]),handleMouseDown:a.useCallback(t=>{1===t.buttons&&(d(e),l({x:t.clientX,y:t.clientY}))},[e,l,d]),handleMouseUp:a.useCallback(()=>{u()},[u])}})({itemKey:e.itemKey,onDragOver:e.onDragOver,onDragStart:e.onDragStart}),d=null!==t.activeKey,u=null!==t.pendingKey;return a.createElement("div",Object.assign({className:e.className,style:e.style,onClickCapture:o,onMouseUpCapture:d?n:void 0},!0!==e.disableDrag?{onMouseDown:d?void 0:c,onMouseUp:u?l:void 0,onMouseMove:u?r:void 0}:{},!0!==e.disableDrop?{onMouseOver:d?i:void 0}:{}),e.children)};function p(e,t,o,r){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var c=Array(a),l=0;a>l;l++)c[l]=arguments[l+3];t.children=c}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var f=a.forwardRef((e,t)=>{const o=a.useMemo(()=>({"--iconSize":e.iconSize+"px"}),[e.iconSize]);return a.createElement("div",{ref:t,className:i()("main_3wnvw list-item_3-Rl5",{highlighted_3LS_j:e.isHighlighted,unclickable_2B8ho:e.isUnclickable},e.className),onAuxClick:e.isUnclickable?void 0:e.onAuxClick,onClick:e.isUnclickable?void 0:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:e.tooltip},e.iconUrl&&p("img",{className:"icon_2MZJt",src:e.iconUrl,style:o,alt:""}),p("div",{className:"title_227cu no-text-overflow_afJJh"},void 0,e.title))}),y=(o(41),o(6));const b=async e=>{if(!e||e===l.x)return[];const[t]=await Object(y.g)(e);return[...await b(t.parentId),t.title]};var h;function m(e,t,o,n){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:h,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}t.a=({bookmarkInfo:e,isHighlighted:t,onAuxClick:o,onClick:n,onDragOver:r,onMouseEnter:s,onMouseLeave:p,...y})=>{const h=Object(c.a)(d.g.setHighlightedItemCoordinates),O=a.useRef(null);a.useEffect(()=>{if(t&&O.current){const e=O.current.getBoundingClientRect();h({positionLeft:e.left,positionTop:e.top})}},[t,h]);const v=(({isSearching:e,isShowTooltip:t,bookmarkInfo:o})=>{const[n,r]=a.useState();return a.useEffect(()=>{(async({isSearching:e,isShowTooltip:t,bookmarkInfo:o})=>{const n=[];if(t&&n.push(o.title,o.url),e){const e=await b(o.parentId);n.unshift(`[${e.join(" > ")}]`)}return n.filter(Boolean).join("\n")})({isSearching:e,isShowTooltip:t,bookmarkInfo:o}).then(r).catch(console.error)},[o,e,t]),n})({isSearching:y.isSearching,isShowTooltip:y.isShowTooltip,bookmarkInfo:e}),g=a.useMemo(()=>o(e),[e,o]),I=a.useMemo(()=>n(e),[e,n]),k=a.useMemo(()=>r(e),[e,r]),j=a.useMemo(()=>s(e),[e,s]),w=a.useMemo(()=>p(e),[e,p]);return m(u,{className:y.className,disableDrag:y.isDisableDragAndDrop||e.isRoot||e.type===l.a.NO_BOOKMARK,disableDrop:y.isDisableDragAndDrop,itemKey:e.id,onDragOver:k,onDragStart:y.onDragStart,style:y.style},void 0,a.createElement(f,{ref:O,className:i()("full-height_29BsC",{"root-folder_31jml":e.isRoot,"drag-indicator_2u9Es":e.type===l.a.DRAG_INDICATOR,separator_3IyaF:e.type===l.a.SEPARATOR}),iconSize:y.iconSize,iconUrl:e.iconUrl,isHighlighted:t,isUnclickable:y.isUnclickable,onAuxClick:g,onClick:I,onMouseEnter:j,onMouseLeave:w,title:e.title,tooltip:v}))}},13(e,t,o){o.d(t,"a",()=>n),o.d(t,"b",()=>r),o.d(t,"c",()=>i),o.d(t,"d",()=>a),o.d(t,"g",()=>c),o.d(t,"e",()=>be),o.d(t,"f",()=>ht);var n={};o.r(n),o.d(n,"addCurrentPage",()=>d),o.d(n,"addSeparator",()=>s),o.d(n,"copyBookmark",()=>u),o.d(n,"createBookmark",()=>p),o.d(n,"createBookmarkAfterId",()=>f),o.d(n,"cutBookmark",()=>y),o.d(n,"deleteBookmark",()=>b),o.d(n,"editBookmark",()=>h),o.d(n,"getSearchResult",()=>m),o.d(n,"initBookmarkTrees",()=>O),o.d(n,"moveBookmarkToDragIndicator",()=>v),o.d(n,"openBookmarksInBrowser",()=>g),o.d(n,"openBookmarkTree",()=>I),o.d(n,"openFolderInBrowser",()=>k),o.d(n,"pasteBookmark",()=>j),o.d(n,"refreshBookmarkTrees",()=>w),o.d(n,"removeBookmarkTree",()=>E),o.d(n,"removeDragIndicator",()=>_),o.d(n,"removeNextBookmarkTrees",()=>S),o.d(n,"resetClipboard",()=>A),o.d(n,"setBookmarkTrees",()=>T),o.d(n,"setDragIndicator",()=>R),o.d(n,"sortBookmarksByName",()=>C),o.d(n,"toggleBookmarkTree",()=>M);var r={};o.r(r),o.d(r,"closeEditor",()=>D),o.d(r,"createFolderInEditor",()=>x),o.d(r,"openEditor",()=>N),o.d(r,"setEditor",()=>B);var i={};o.r(i),o.d(i,"createLastPosition",()=>L),o.d(i,"removeLastPosition",()=>P),o.d(i,"updateLastPosition",()=>K);var a={};o.r(a),o.d(a,"clickMenuRow",()=>W),o.d(a,"closeMenu",()=>F),o.d(a,"openMenu",()=>U),o.d(a,"setMenuPattern",()=>H);var c={};o.r(c),o.d(c,"setHighlightedItemCoordinates",()=>$),o.d(c,"setIsFocusSearchInput",()=>G);var l=o(3);const d=Object(l.createAction)("ADD_CURRENT_PAGE",(e,t)=>({parentId:e,index:t}))(),s=Object(l.createAction)("ADD_SEPARATOR",(e,t)=>({parentId:e,index:t}))(),u=Object(l.createAction)("COPY_BOOKMARK",e=>({id:e}))(),p=Object(l.createAction)("CREATE_BOOKMARK",(e,t,o,n)=>({parentId:e,index:t,title:o,url:n}))(),f=Object(l.createAction)("CREATE_BOOKMARK_AFTER_ID",(e,t,o)=>({id:e,title:t,url:o}))(),y=Object(l.createAction)("CUT_BOOKMARK",e=>({id:e}))(),b=Object(l.createAction)("DELETE_BOOKMARK",e=>({id:e}))(),h=Object(l.createAction)("EDIT_BOOKMARK",(e,t,o)=>({id:e,title:t,url:o}))(),m=Object(l.createAction)("GET_SEARCH_RESULT",e=>({searchKeyword:e}))(),O=Object(l.createAction)("INIT_BOOKMARK_TREES")(),v=Object(l.createAction)("MOVE_BOOKMARK_TO_DRAG_INDICATOR",e=>({bookmarkId:e}))(),g=Object(l.createAction)("OPEN_BOOKMARKS_IN_BROWSER",(e,t)=>({ids:e,openBookmarkProps:t}))(),I=Object(l.createAction)("OPEN_BOOKMARK_TREE",(e,t)=>({id:e,parentId:t}))(),k=Object(l.createAction)("OPEN_FOLDER_IN_BROWSER",(e,t)=>({id:e,openBookmarkProps:t}))(),j=Object(l.createAction)("PASTE_BOOKMARK",(e,t)=>({parentId:e,index:t}))(),w=Object(l.createAction)("REFRESH_BOOKMARK_TREES")(),E=Object(l.createAction)("REMOVE_BOOKMARK_TREE",e=>({id:e}))(),_=Object(l.createAction)("REMOVE_DRAG_INDICATOR")(),S=Object(l.createAction)("REMOVE_NEXT_BOOKMARK_TREES",e=>({removeAfterId:e}))(),A=Object(l.createAction)("RESET_CLIPBOARD")(),T=Object(l.createAction)("SET_BOOKMARK_TREES",e=>({bookmarkTrees:e}))(),R=Object(l.createAction)("SET_DRAG_INDICATOR",(e,t)=>({parentId:e,index:t}))(),C=Object(l.createAction)("SORT_BOOKMARKS_BY_NAME",e=>({parentId:e}))(),M=Object(l.createAction)("TOGGLE_BOOKMARK_TREE",(e,t)=>({id:e,parentId:t}))(),D=Object(l.createAction)("CLOSE_EDITOR")(),x=Object(l.createAction)("CREATE_FOLDER_IN_EDITOR",(e,t)=>({targetId:e,coordinates:t}))(),N=Object(l.createAction)("OPEN_EDITOR",(e,t)=>({targetId:e,coordinates:t}))(),B=Object(l.createAction)("SET_EDITOR",e=>({partialState:e}))(),L=Object(l.createAction)("CREATE_LAST_POSITION",(e,t)=>({index:e,id:t}))(),P=Object(l.createAction)("REMOVE_LAST_POSITION",e=>({index:e}))(),K=Object(l.createAction)("UPDATE_LAST_POSITION",e=>e)(),W=Object(l.createAction)("CLICK_MENU_ROW",e=>({rowName:e}))(),F=Object(l.createAction)("CLOSE_MENU")(),U=Object(l.createAction)("OPEN_MENU",(e,t)=>({targetId:e,coordinates:t}))(),H=Object(l.createAction)("SET_MENU_PATTERN",e=>({menuPattern:e}))(),$=Object(l.createAction)("SET_HIGHLIGHTED_ITEM_COORDINATES",e=>({highlightedItemCoordinates:e}))(),G=Object(l.createAction)("SET_IS_FOCUS_SEARCH_INPUT",e=>({isFocusSearchInput:e}))();var z=o(25),Y=o(175),V=o(178),X=o(176),q=o(2),J=o(179),Q=o(109),Z=o.n(Q);const ee=e=>e.type===q.a.BOOKMARK?"chrome://favicon/"+e.url:e.type===q.a.FOLDER?Z.a:"",te=e=>null==e.url?q.a.FOLDER:e.url.startsWith(q.z)?q.a.SEPARATOR:q.a.BOOKMARK,oe=e=>e.id===q.x||e.parentId===q.x,ne=e=>({id:"",parentId:"",title:"",type:q.a.BOOKMARK,...e,iconUrl:"",isRoot:!1,isSimulated:!0,isUnmodifiable:!0,storageIndex:-1,url:""}),re=J.a(e=>({...e,iconUrl:ee(e)}),e=>{var t,o;return{iconUrl:"",id:e.id,isRoot:oe(e),isSimulated:!1,isUnmodifiable:oe(e)||!!e.unmodifiable,parentId:null!==(t=e.parentId)&&void 0!==t?t:"",storageIndex:"number"==typeof e.index?e.index:-1,title:e.title,type:te(e),url:null!==(o=e.url)&&void 0!==o?o:""}}),ie={clipboard:{id:void 0,isRemoveAfterPaste:!1},searchKeyword:"",trees:[]},ae=e=>({...e,trees:e.trees.map(e=>({...e,children:e.children.filter(e=>e.type!==q.a.DRAG_INDICATOR)}))}),ce=Object(l.createReducer)(ie,{[Object(l.getType)(u)]:(e,{payload:t})=>({...e,clipboard:{id:t.id,isRemoveAfterPaste:!1}}),[Object(l.getType)(y)]:(e,{payload:t})=>({...e,clipboard:{id:t.id,isRemoveAfterPaste:!0}}),[Object(l.getType)(m)]:(e,{payload:t})=>({...e,searchKeyword:t.searchKeyword}),[Object(l.getType)(E)](e,{payload:t}){const o=e.trees.findIndex(e=>e.parent.id===t.id);return 0>o?e:{...e,trees:e.trees.slice(0,o)}},[Object(l.getType)(_)]:ae,[Object(l.getType)(S)](e,{payload:t}){const o=e.trees.findIndex(e=>e.parent.id===t.removeAfterId);return 0>o?e:{...e,trees:e.trees.slice(0,o+1)}},[Object(l.getType)(A)]:e=>({...e,clipboard:ie.clipboard}),[Object(l.getType)(T)]:(e,{payload:t})=>({...e,trees:t.bookmarkTrees}),[Object(l.getType)(R)](e,{payload:t}){const o=e.trees.findIndex(e=>e.parent.id===t.parentId);return-1===o?e:Y.a(V.a(["trees",o,"children"]),X.a(t.index,ne({type:q.a.DRAG_INDICATOR})),ae(e))}}),le={isAllowEditUrl:!1,isCreating:!1,positionLeft:0,positionTop:0,targetId:void 0,title:"",url:""},de=Object(l.createReducer)(le).handleAction(D,()=>le).handleAction(B,(e,{payload:t})=>({...e,...t.partialState})),se=[],ue={menuPattern:[],positionLeft:0,positionTop:0,targetId:void 0},pe=Object(l.createReducer)(ue,{[Object(l.getType)(F)]:()=>ue,[Object(l.getType)(U)]:(e,{payload:t})=>({...e,...t.coordinates,targetId:t.targetId}),[Object(l.getType)(H)]:(e,{payload:t})=>({...e,menuPattern:t.menuPattern})}),fe={},ye=Object(l.createReducer)({highlightedItemCoordinates:{positionLeft:0,positionTop:0},isFocusSearchInput:!1}).handleAction($,(e,{payload:t})=>({...e,highlightedItemCoordinates:t.highlightedItemCoordinates})).handleAction(G,(e,{payload:t})=>({...e,isFocusSearchInput:t.isFocusSearchInput})),be=Object(z.c)({bookmark:ce,editor:de,lastPositions:(e=se)=>e,menu:pe,options:(e=fe)=>e,ui:ye});var he=o(1),me=(o(12),o(14),o(6));function*Oe({payload:e}){try{var t,o;const[n]=yield Object(he.c)(me.m,{currentWindow:!0,active:!0});yield Object(he.e)(p(e.parentId,e.index,null!==(t=n.title)&&void 0!==t?t:"",null!==(o=n.url)&&void 0!==o?o:""))}catch(e){}}var ve=o(110);function*ge({payload:e}){try{yield Object(he.e)(p(e.parentId,e.index,"- ".repeat(54).trim(),q.z+"#"+Object(ve.a)()))}catch(e){}}function*Ie({payload:e}){try{const t=e.url.trim();yield Object(he.c)(me.b,{index:e.index,parentId:e.parentId,title:e.title.trim(),...t?{url:t}:null})}catch(e){}}function*ke(e){if(e.startsWith(q.u)){const t=yield Object(he.c)(me.h,"noBkmark");return ne({id:e,parentId:e.replace(q.u,""),title:t,type:q.a.NO_BOOKMARK})}const t=yield Object(he.c)(me.g,e);return re(t[0])}function*je(e){return(yield Object(he.c)(me.f,e)).map(re)}function*we(e){const[t,o]=yield Object(he.b)([Object(he.c)(ke,e),Object(he.c)(je,e)]);return{children:o.length?o:[yield Object(he.c)(ke,q.u+e)],parent:t}}function*Ee(e,t){const[o,...n]=yield Object(he.b)([Object(he.c)(_e,t),...e.map(e=>Object(he.c)(Ae,e))]);let r=[o];for(const e of n){if(null===e||!e.parent.isRoot&&r[r.length-1].parent.id!==e.parent.parentId)break;r=[...r,e]}return r}function*_e(e){const[t,o]=yield Object(he.b)([Object(he.c)(we,e[q.w.DEF_EXPAND]+""),Object(he.c)(je,q.x)]);return{...t,children:[...o.filter(t=>{var o;const n=+t.id;return!(n===e[q.w.DEF_EXPAND]||(null!==(o=e[q.w.HIDE_ROOT_FOLDER])&&void 0!==o?o:[]).includes(n))}),...t.children]}}function*Se(e){return(yield Object(he.c)(me.q,e)).map(re)}function*Ae(e){try{return yield Object(he.c)(we,e)}catch(e){return null}}function*Te({payload:e}){try{const t=yield Object(he.c)(ke,e.id);yield Object(he.e)(p(t.parentId,t.storageIndex+1,e.title,e.url))}catch(e){}}function*Re({payload:e}){try{(yield Object(he.c)(ke,e.id)).type===q.a.FOLDER?yield Object(he.c)(me.o,e.id):yield Object(he.c)(me.n,e.id)}catch(e){}}function*Ce({payload:e}){try{yield Object(he.c)(me.t,e.id,{title:e.title,...e.url?{url:e.url}:null})}catch(e){}}var Me=o(183),De=o(60),xe=e=>{const t=new Intl.Collator;return Array.from(e).sort((e,o)=>t.compare(e.title,o.title))};function*Ne({payload:e}){try{var t;if(!e.searchKeyword)return void(yield Object(he.e)(O()));const{options:o}=yield Object(he.g)(Me.a),n=yield Object(he.c)(Se,{query:e.searchKeyword}),r=1===o[q.w.SEARCH_TARGET],i=[{children:J.a(xe,De.a(0,null!==(t=o[q.w.MAX_RESULTS])&&void 0!==t?t:0),t=>{const o=t.filter(e=>e.type===q.a.BOOKMARK);return r?o.filter(t=>((e,t)=>{const o=t.toLowerCase();return e.toLowerCase().split(" ").filter(Boolean).every(e=>o.includes(e))})(e.searchKeyword,t.title)):o})(n),parent:ne({id:q.y,type:q.a.FOLDER})}];yield Object(he.e)(T(i))}catch(e){}}function*Be(){try{const{lastPositions:e,options:t}=yield Object(he.g)(Me.a),[,...o]=(({lastPositions:e,options:t})=>t[q.w.REMEMBER_POS]?(null!=e?e:[]).map(e=>e.id):[])({lastPositions:e,options:t}),n=yield Object(he.c)(Ee,o,t);yield Object(he.e)(T(n))}catch(e){}}const Le=e=>e.type===q.a.DRAG_INDICATOR;function*Pe({payload:e}){try{const{bookmark:t}=yield Object(he.g)(Me.a),o=t.trees.find(e=>e.children.some(Le));if(!o)return;const{storageIndex:n}=o.children.reduceRight((e,t)=>e.isReduced?e:Le(t)?{...e,isCapture:!0}:!e.isCapture||t.isRoot||t.isSimulated?e:{isCapture:!1,isReduced:!0,storageIndex:t.storageIndex+1},{isCapture:!1,isReduced:!1,storageIndex:0});yield Object(he.c)(me.l,e.bookmarkId,{parentId:o.parent.id,index:n}),yield Object(he.e)(_())}catch(e){}}function*Ke(e){try{return(yield Object(he.b)(e.map(e=>Object(he.c)(ke,e)))).filter(e=>!1===e.isSimulated&&e.type===q.a.BOOKMARK).map(e=>e.url)}catch(e){return[]}}function*We({payload:e}){try{const{ids:t,openBookmarkProps:o}=e,{options:n}=yield Object(he.g)(Me.a),r=yield Object(he.c)(Ke,t);if(!r.length)return;const i=r.filter(e=>e.startsWith("javascript:")),a=r.filter(e=>!e.startsWith("javascript:"));if(o.isAllowBookmarklet&&i.length>0&&(yield Object(he.c)(me.e,null,{code:i[0]})),a.length>0){if(a.length>5){const e=(yield Object(he.c)(me.h,"askOpenAll")).replace("%bkmarkCount%",a.length+"");if(n[q.w.WARN_OPEN_MANY]&&!window.confirm(e))return}switch(o.openIn){case q.v.BACKGROUND_TAB:yield Object(he.b)(a.map(e=>Object(he.c)(me.c,{url:e,active:!1})));break;case q.v.CURRENT_TAB:yield Object(he.c)(me.u,{url:a[0]});break;case q.v.INCOGNITO_WINDOW:yield Object(he.c)(me.d,{url:a,incognito:!0});break;case q.v.NEW_TAB:yield Object(he.b)(a.map(e=>Object(he.c)(me.c,{url:e,active:!0})));break;case q.v.NEW_WINDOW:yield Object(he.c)(me.d,{url:a})}}o.isCloseThisExtension&&(yield Object(he.c)(window.close))}catch(e){}}var Fe=o(177);const Ue=e=>e.bookmark.trees,He=Fe.a(["parent","id"]);function*$e({payload:e}){try{const[t,o]=yield Object(he.b)([Object(he.g)(Ue),Object(he.c)(we,e.id)]);if(t.some(He(e.id)))return;const n=t.findIndex(He(e.parentId));if(0>n)return;yield Object(he.e)(T([...t.slice(0,n+1),o]))}catch(e){}}function*Ge({payload:e}){try{const t=(yield Object(he.c)(we,e.id)).children.map(e=>e.id);yield Object(he.e)(g(t,e.openBookmarkProps))}catch(e){}}function*ze({fromId:e,toIndex:t,toParentId:o}){try{const n=yield Object(he.c)(ke,e),r=yield Object(he.c)(me.b,{index:t,parentId:o,title:n.title,...n.type!==q.a.FOLDER?{url:n.url}:null});if(n.type===q.a.FOLDER){const t=yield Object(he.c)(we,e);for(const[e,o]of t.children.entries())yield Object(he.c)(ze,{fromId:o.id,toIndex:e,toParentId:r.id})}}catch(e){}}function*Ye({payload:e}){try{const{bookmark:t}=yield Object(he.g)(Me.a),{clipboard:o}=t;if(!o.id)return;o.isRemoveAfterPaste?yield Object(he.c)(me.l,o.id,{parentId:e.parentId,index:e.index}):yield Object(he.c)(ze,{fromId:o.id,toIndex:e.index,toParentId:e.parentId}),yield Object(he.e)(A())}catch(e){}}function*Ve(){try{const{bookmark:e,options:t}=yield Object(he.g)(Me.a),{searchKeyword:o,trees:n}=e;if(o)yield Object(he.e)(m(o));else{const e=yield Object(he.c)(Ee,(([,...e])=>e.map(e=>e.parent.id))(n),t);yield Object(he.e)(T(e))}}catch(e){}}o(81),o(82);const Xe=e=>e.reduce((e,t)=>{const o=e=>e.type===t.type;e.some(o)||e.push({type:t.type,members:[]});const n=e.find(o);return n&&n.members.push(t),e},[]),qe=e=>{const t=[q.a.SEPARATOR,q.a.FOLDER,q.a.BOOKMARK];return Array.from(e).sort((e,o)=>t.indexOf(e.type)-t.indexOf(o.type))};function*Je({payload:e}){try{const t=yield Object(he.c)(we,e.parentId),o=(e=>e.reduce((e,t)=>(0!==e.length&&t.type!==q.a.SEPARATOR||e.push([]),e[e.length-1].push(t),e),[[]]))(t.children).map(Xe).map(e=>e.map(e=>({...e,members:xe(e.members)}))).map(qe).map(e=>e.map(e=>e.members).flat()).flat();for(const[e,t]of o.entries()){const o=(yield Object(he.c)(ke,t.id)).storageIndex;o!==e&&(yield Object(he.c)(me.l,t.id,{index:e+(e>o?1:0)}))}}catch(e){}}function*Qe({payload:e}){try{const{bookmark:t}=yield Object(he.g)(Me.a);t.trees.some(t=>t.parent.id===e.id)?yield Object(he.e)(S(e.parentId)):yield Object(he.e)(I(e.id,e.parentId))}catch(e){}}function*Ze(){yield Object(he.j)(Object(l.getType)(d),Oe),yield Object(he.j)(Object(l.getType)(s),ge),yield Object(he.i)(Object(l.getType)(p),Ie),yield Object(he.j)(Object(l.getType)(f),Te),yield Object(he.i)(Object(l.getType)(b),Re),yield Object(he.j)(Object(l.getType)(h),Ce),yield Object(he.j)(Object(l.getType)(m),Ne),yield Object(he.j)(Object(l.getType)(O),Be),yield Object(he.j)(Object(l.getType)(v),Pe),yield Object(he.j)(Object(l.getType)(I),$e),yield Object(he.j)(Object(l.getType)(g),We),yield Object(he.j)(Object(l.getType)(k),Ge),yield Object(he.j)(Object(l.getType)(j),Ye),yield Object(he.j)(Object(l.getType)(w),Ve),yield Object(he.j)(Object(l.getType)(C),Je),yield Object(he.j)(Object(l.getType)(M),Qe)}function*et({payload:e}){try{const t=yield Object(he.c)(me.h,"newFolder");yield Object(he.e)(B({...e.coordinates,isAllowEditUrl:!1,isCreating:!0,targetId:e.targetId,title:t}))}catch(e){}}function*tt({payload:e}){try{const t=yield Object(he.c)(ke,e.targetId);yield Object(he.e)(B({...e.coordinates,isAllowEditUrl:!!t.url,targetId:e.targetId,title:t.title,url:t.url}))}catch(e){}}function*ot(){yield Object(he.j)(Object(l.getType)(x),et),yield Object(he.j)(Object(l.getType)(N),tt)}var nt=o(182),rt=o(181);function*it({payload:e}){try{const{lastPositions:t=[]}=yield Object(he.c)(me.i);if(t.length>=e.index){if(t[e.index]&&t[e.index].id===e.id)return;const o=[...nt.a(e.index,t),{id:e.id,scrollTop:0}];yield Object(he.c)(me.r,{lastPositions:o})}}catch(e){}}function*at({payload:e}){try{const{lastPositions:t=[]}=yield Object(he.c)(me.i);if(t.length-1>=e.index){const o=nt.a(e.index,t);yield Object(he.c)(me.r,{lastPositions:o})}}catch(e){}}function*ct(){try{const e=yield Object(he.a)(Object(l.getType)(L)),t=yield Object(he.a)(Object(l.getType)(P));for(;;){const[o,n]=yield Object(he.f)([Object(he.h)(e),Object(he.h)(t)]);o&&(yield Object(he.c)(it,o)),n&&(yield Object(he.c)(at,n))}}catch(e){}}function*lt({payload:e}){try{const{lastPositions:t=[]}=yield Object(he.c)(me.i),o=t.findIndex(t=>t.id===e.id);if(o>=0){const n=rt.a(o,e,t);yield Object(he.c)(me.r,{lastPositions:n})}}catch(e){}}function*dt(){try{yield Object(he.d)(ct),yield Object(he.j)(Object(l.getType)(K),lt)}catch(e){}}function*st({payload:e}){try{const{menu:t,ui:o}=yield Object(he.g)(Me.a);if(!t.targetId)return;const n=yield Object(he.c)(ke,t.targetId);switch(e.rowName){case q.d:yield Object(he.e)(x(t.targetId,o.highlightedItemCoordinates));break;case q.e:yield Object(he.e)(d(n.parentId,n.storageIndex+1));break;case q.f:yield Object(he.e)(s(n.parentId,n.storageIndex+1));break;case q.g:yield Object(he.e)(u(n.id));break;case q.h:yield Object(he.e)(y(n.id));break;case q.i:yield Object(he.e)(b(n.id));break;case q.j:case q.r:yield Object(he.e)(N(t.targetId,o.highlightedItemCoordinates));break;case q.k:case q.l:case q.m:{const t=(yield Object(he.c)(we,n.id)).children.map(e=>e.id),o={[q.k]:q.v.BACKGROUND_TAB,[q.l]:q.v.INCOGNITO_WINDOW,[q.m]:q.v.NEW_WINDOW};yield Object(he.e)(g(t,{openIn:o[e.rowName],isAllowBookmarklet:!1,isCloseThisExtension:!0}));break}case q.n:case q.o:case q.p:{const t={[q.n]:q.v.BACKGROUND_TAB,[q.o]:q.v.INCOGNITO_WINDOW,[q.p]:q.v.NEW_WINDOW};yield Object(he.e)(g([n.id],{openIn:t[e.rowName],isAllowBookmarklet:!0,isCloseThisExtension:!0}));break}case q.q:yield Object(he.e)(j(n.parentId,n.storageIndex+1));break;case q.s:yield Object(he.e)(C(n.parentId))}}catch(e){}}const ut=(e,t)=>e.isRoot?[]:t?[[q.h,q.g]]:[[...e.isSimulated?[]:[q.h,q.g],q.q],[q.e,q.d,q.f],e.type===q.a.NO_BOOKMARK?[]:[q.s]].filter(e=>e.length),pt=e=>e.isSimulated||e.isUnmodifiable?[]:[[e.type===q.a.FOLDER?q.r:q.j,q.i]],ft=e=>e.isSimulated?[]:e.type===q.a.FOLDER?[[q.k,q.m,q.l]]:[[q.n,q.p,q.o]];function*yt({payload:e}){try{const{bookmark:n}=yield Object(he.g)(Me.a),r=(t=yield Object(he.c)(ke,e.targetId),o=!!n.searchKeyword,[...ft(t),...pt(t),...ut(t,o)]);yield Object(he.e)(H(r))}catch(e){}var t,o}function*bt(){yield Object(he.j)(Object(l.getType)(W),st),yield Object(he.j)(Object(l.getType)(U),yt)}function*ht(){try{yield Object(he.b)([Ze,ot,dt,bt].map(he.d))}catch(e){}}},172(e,t,o){o.r(t),o(11),o(12),o(41),o(14),o(80);var n,r=o(180),i=o(0),a=o(9),c=o(5),l=o.n(c),d=o(50),s=o(6),u=o(2),p=i.createContext({bodySizeStack:[],setBodySizeStack(){}});function f(e,t,o,r){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var c=Array(a),l=0;a>l;l++)c[l]=arguments[l+3];t.children=c}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:n,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var y=e=>{const[t,o]=i.useState([]),n=i.useMemo(()=>({bodySizeStack:t,setBodySizeStack:o}),[t,o]);return f(p.Provider,{value:n},void 0,e.children)},b=()=>{const{bodySizeStack:e,setBodySizeStack:t}=i.useContext(p);return{globalBodySize:i.useMemo(()=>e.reduce((e,t)=>{var o,n;return{height:t.height?Math.max(t.height,null!==(o=e.height)&&void 0!==o?o:0):e.height,width:t.width?Math.max(t.width,null!==(n=e.width)&&void 0!==n?n:0):e.width}},{height:void 0,width:void 0}),[e]),appendBodySize:i.useCallback(e=>{t(t=>[...t,e])},[t]),removeBodySize:i.useCallback(e=>{t(t=>t.filter(t=>t!==e))},[t])}},h=o(29),m=i.createContext({activeWindowId:void 0,keyBindingsPerWindow:new Map,addEventListener(){},removeEventListener(){},setActiveWindowId(){},unsetActiveWindowId(){}}),O=(e,t)=>i.useCallback((...o)=>{e(t(...o))},[t,e]),v=o(3);const g=new Map,I={addEventListener:Object(v.createAction)("ADD_EVENT_LISTENER",({priority:e=0,...t},o)=>({...t,priority:e,callback:o}))(),removeEventListener:Object(v.createAction)("REMOVE_EVENT_LISTENER",({priority:e=0,...t},o)=>({...t,priority:e,callback:o}))()},k=Object(v.createReducer)(g).handleAction(I.addEventListener,(e,{payload:t})=>{var o;const{callback:n,key:r,priority:i,windowId:a}=t,c=[...null!==(o=e.get(a))&&void 0!==o?o:[],{callback:n,key:r,priority:i}].sort((e,t)=>e.priority-t.priority);return new Map(e).set(a,c)}).handleAction(I.removeEventListener,(e,{payload:t})=>{const{callback:o,key:n,priority:r,windowId:i}=t,a=e.get(i);if(!a)return e;const c=a.filter(e=>e.callback!==o||""+e.key!=""+n||e.priority!==r);return new Map(e).set(i,c)}),j={activeWindowIdQueue:[]},w={setActiveWindowId:Object(v.createAction)("SET_ACTIVE_WINDOW_ID",e=>e)(),unsetActiveWindowId:Object(v.createAction)("UNSET_ACTIVE_WINDOW_ID",e=>e)()},E=Object(v.createReducer)(j).handleAction(w.setActiveWindowId,(e,{payload:t})=>{const o=[...e.activeWindowIdQueue.filter(e=>e!==t),t];return{activeWindowId:o[o.length-1],activeWindowIdQueue:o}}).handleAction(w.unsetActiveWindowId,(e,{payload:t})=>{const o=e.activeWindowIdQueue.filter(e=>e!==t);return{activeWindowId:o[o.length-1],activeWindowIdQueue:o}});var _;function S(e,t,o,n){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:_,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var A=e=>{const t=(()=>{const[{activeWindowId:e},t]=i.useReducer(E,j),[o,n]=i.useReducer(k,g),r=O(n,I.addEventListener),a=O(n,I.removeEventListener),c=O(t,w.setActiveWindowId),l=O(t,w.unsetActiveWindowId);return i.useMemo(()=>({activeWindowId:e,keyBindingsPerWindow:o,addEventListener:r,removeEventListener:a,setActiveWindowId:c,unsetActiveWindowId:l}),[e,r,o,a,c,l])})(),o=i.useRef(t);return o.current=t,Object(h.a)(window,"keydown",e=>{const{keyBindingsPerWindow:t,activeWindowId:n}=o.current;if(!n)return;const r=t.get(n);if(!r)return;const i=r.reduceRight((t,o)=>t.isMatched?t:(o.key instanceof RegExp?o.key.test(e.key):o.key===e.key)?{isMatched:!0,callback:o.callback}:t,{isMatched:!1,callback:void 0});i.isMatched&&i.callback&&i.callback(e)}),S(m.Provider,{value:t},void 0,e.children)},T=o(21),R=o.n(T),C=({children:e,className:t,onFocus:o,windowId:n,...r})=>{const{setActiveWindowId:a,unsetActiveWindowId:c}=i.useContext(m);i.useEffect(()=>(a(n),()=>{c(n)}),[a,c,n]);const l=i.useCallback(e=>{e.stopPropagation(),o&&o(e),a(n)},[o,a,n]),d=i.useRef(null);return i.useEffect(()=>{d.current&&d.current.focus()},[]),i.createElement("div",Object.assign({ref:d,tabIndex:-1},r,{className:R()("wrapper_1hIHL",t),onFocus:l}),e)},M=o(10),D=o(13),x=o(28),N=(e,t)=>{const o=new Map(e);return o.delete(t),o};const B={highlightedIndices:new Map,itemCounts:new Map},L={removeList:Object(v.createAction)("REMOVE_LIST",e=>({listIndex:e}))(),resetLists:Object(v.createAction)("RESET_LISTS")(),setHighlightedIndex:Object(v.createAction)("SET_HIGHLIGHTED_INDEX",(e,t)=>({listIndex:e,itemIndex:t}))(),setItemCount:Object(v.createAction)("SET_ITEM_COUNT",(e,t)=>({listIndex:e,itemCount:t}))(),unsetHighlightedIndex:Object(v.createAction)("UNSET_HIGHLIGHTED_INDEX",(e,t)=>({listIndex:e,itemIndex:t}))()},P=Object(v.createReducer)(B,{[Object(v.getType)(L.removeList)](e,{payload:t}){const{listIndex:o}=t;return{...e,highlightedIndices:N(e.highlightedIndices,o),itemCounts:N(e.itemCounts,o)}},[Object(v.getType)(L.resetLists)]:()=>B,[Object(v.getType)(L.setHighlightedIndex)](e,{payload:t}){const{listIndex:o,itemIndex:n}=t;return{...e,highlightedIndices:new Map(e.highlightedIndices).set(o,n)}},[Object(v.getType)(L.setItemCount)](e,{payload:t}){const{listIndex:o,itemCount:n}=t;return{...e,itemCounts:new Map(e.itemCounts).set(o,n)}},[Object(v.getType)(L.unsetHighlightedIndex)](e,{payload:t}){const{listIndex:o,itemIndex:n}=t;return e.highlightedIndices.get(o)!==n?e:{...e,highlightedIndices:N(e.highlightedIndices,o)}}});var K,W=i.createContext({lists:B,removeList(){},resetLists(){},setHighlightedIndex(){},setItemCount(){},unsetHighlightedIndex(){}});function F(e,t,o,n){K||(K="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:K,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var U,H=e=>F("div",{className:"main_1RkOm",style:i.useMemo(()=>({"--opacity":e.opacity}),[e.opacity]),onClick:e.onClick}),$=o(61),G=o(111);function z(e,t,o,n){U||(U="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:U,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var Y,V=()=>z("p",{className:"main_ztm2n no-text-overflow_afJJh"},void 0,l.a.i18n.getMessage("noResult")),X=o(26);function q(e,t,o,n){Y||(Y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Y,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var J=e=>q("header",{className:"main_3jX5B"},void 0,q("h1",{className:"title_Ip6TQ no-text-overflow_afJJh"},void 0,e.title),q(X.a,{className:"close_3RIMn",tabIndex:-1,onClick:e.onClose})),Q=o(44),Z=o.n(Q);const ee=e=>e.ctrlKey||e.metaKey?u.w.CLICK_BY_LEFT_CTRL:e.shiftKey?u.w.CLICK_BY_LEFT_SHIFT:u.w.CLICK_BY_LEFT,te=e=>{switch(e){case 0:case 1:return{openIn:u.v.CURRENT_TAB,isCloseThisExtension:0===e};default:case 2:return{openIn:u.v.NEW_TAB,isCloseThisExtension:!0};case 3:case 4:return{openIn:u.v.BACKGROUND_TAB,isCloseThisExtension:3===e};case 5:return{openIn:u.v.NEW_WINDOW,isCloseThisExtension:!0};case 6:return{openIn:u.v.INCOGNITO_WINDOW,isCloseThisExtension:!0}}};var oe;function ne(e,t,o,n){oe||(oe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:oe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}const re=e=>Math.max(e,u.t);var ie,ae=ne(V,{}),ce=({treeId:e})=>{var t;const{isRememberLastPositions:o,isSearching:n,treeIndex:r,treeInfo:c,...l}=(({treeId:e})=>{const t=i.useCallback(t=>{var o,n,r,i;const a=t.bookmark.trees.findIndex(t=>t.parent.id===e),c=t.bookmark.trees[a],l=!!t.options[u.w.REMEMBER_POS],d=l?(null!==(o=t.lastPositions)&&void 0!==o?o:[]).find(t=>t.id===e):void 0;return{iconSize:re(null!==(n=t.options[u.w.FONT_SIZE])&&void 0!==n?n:0),isRememberLastPositions:l,isSearching:!!t.bookmark.searchKeyword,isShowCover:t.bookmark.trees.length-a>2,isShowHeader:0!==a,isShowTooltip:!!t.options[u.w.TOOLTIP],lastScrollTop:d?d.scrollTop:void 0,listItemWidth:null!==(r=t.options[u.w.SET_WIDTH])&&void 0!==r?r:0,rowHeight:(s=null!==(i=t.options[u.w.FONT_SIZE])&&void 0!==i?i:0,re(s)+2*(1+u.b)),treeIndex:a,treeInfo:c};var s},[e]);return Object(a.d)(t,a.b)})({treeId:e}),d=Object(M.a)(D.a.removeBookmarkTree),s=Object(M.a)(D.a.removeNextBookmarkTrees),{activeKey:p}=i.useContext(x.a),{lists:f,setItemCount:y,removeList:b}=i.useContext(W);i.useEffect(()=>(y(r,c.children.length),()=>{b(r)}),[r,c.children.length,y,b]);const h=f.highlightedIndices.get(r),m=void 0!==h?null===(t=c.children[h])||void 0===t?void 0:t.id:void 0,O=i.useCallback(()=>{d(c.parent.id)},[d,c.parent.id]),v=i.useCallback(()=>{s(c.parent.id)},[s,c.parent.id]),g=i.useCallback(()=>n?ae:null,[n]),{handleScroll:I}=(({isRememberLastPositions:e,treeId:t,treeIndex:o})=>{const n=Object(M.a)(D.c.createLastPosition),r=Object(M.a)(D.c.removeLastPosition),a=Object(M.a)(D.c.updateLastPosition);return i.useEffect(()=>(e&&n(o,t),()=>{e&&r(o)}),[n,e,r,t,o]),{handleScroll:i.useMemo(()=>{if(!e)return;const o=Z()(a,100);return e=>{o({id:t,scrollTop:e.scrollOffset})}},[e,t,a])}})({isRememberLastPositions:o,treeId:e,treeIndex:r}),{handleRowAuxClick:k,handleRowClick:j}=(({treeInfo:e})=>{const t=Object(a.d)(e=>e.options),o=Object(M.a)(D.a.openBookmarksInBrowser),n=Object(M.a)(D.a.openFolderInBrowser),r=Object(M.a)(D.d.openMenu),c=Object(M.a)(D.a.toggleBookmarkTree);return i.useMemo(()=>({handleRowAuxClick:e=>i=>{1===i.button&&(e=>{if(e.type===u.a.FOLDER)n(e.id,{openIn:u.v.NEW_TAB,isAllowBookmarklet:!1,isCloseThisExtension:!0});else{const n=te(t[u.w.CLICK_BY_MIDDLE]);o([e.id],{...n,isAllowBookmarklet:!0})}})(e),2===i.button&&((e,t)=>{r(e.id,{positionLeft:t.clientX,positionTop:t.clientY})})(e,i)},handleRowClick:n=>r=>{if(n.type===u.a.FOLDER)t[u.w.OP_FOLDER_BY]&&c(n.id,e.parent.id);else{const e=t[ee(r)],i=te(e);o([n.id],{...i,isAllowBookmarklet:!0})}}}),[o,n,r,t,c,e.parent.id])})({treeInfo:c}),{handleRowDragOver:w,handleRowDragStart:E}=(({closeNextTrees:e,treeInfo:t})=>{const o=Object(M.a)(D.a.removeDragIndicator),n=Object(M.a)(D.a.setDragIndicator);return i.useMemo(()=>({handleRowDragOver:e=>(r,i)=>{const a=r.currentTarget.getBoundingClientRect(),c=r.clientY-a.top>a.height/2,l=t.children.filter(e=>e.type!==u.a.DRAG_INDICATOR),d=l.findIndex(e=>e.id===i.activeKey),s=l.findIndex(e=>e.id===i.itemKey)+(c?1:0);-1!==d&&[d,d+1].includes(s)?o():n(e.parentId,s)},handleRowDragStart(){e()}}),[e,o,n,t.children])})({closeNextTrees:v,treeInfo:c}),{handleRowMouseEnter:_,handleRowMouseLeave:S}=(({closeNextTrees:e,treeIndex:t,treeInfo:o})=>{const n=Object(a.d)(e=>e.options),r=Object(M.a)(D.a.openBookmarkTree),{activeKey:c}=i.useContext(x.a),{setHighlightedIndex:l,unsetHighlightedIndex:d}=i.useContext(W);return i.useMemo(()=>{const i=Z()(t=>{t.type===u.a.FOLDER&&t.id!==c?r(t.id,o.parent.id):e()},300);return{handleRowMouseEnter:e=>()=>{n[u.w.OP_FOLDER_BY]||i(e);const r=o.children.findIndex(t=>t.id===e.id);l(t,r)},handleRowMouseLeave:e=>()=>{i.cancel();const n=o.children.findIndex(t=>t.id===e.id);d(t,n)}}},[c,e,r,n,l,t,o.children,o.parent.id,d])})({closeNextTrees:v,treeIndex:r,treeInfo:c});return ne("section",{className:$.a.main},void 0,l.isShowHeader&&ne(J,{title:c.parent.title,onClose:O}),ne(G.a,{draggingId:p,highlightedId:m,iconSize:l.iconSize,isDisableDragAndDrop:n,isSearching:n,isShowTooltip:l.isShowTooltip,lastScrollTop:l.lastScrollTop,listItemWidth:l.listItemWidth,noRowsRenderer:g,onRowAuxClick:k,onRowClick:j,onRowDragOver:w,onRowDragStart:E,onRowMouseEnter:_,onRowMouseLeave:S,onScroll:I,rowHeight:l.rowHeight,scrollToIndex:h,treeInfo:c}),l.isShowCover&&ne(H,{opacity:.7,onClick:v}))};function le(e,t,o,n){ie||(ie="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:ie,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var de,se=e=>{var t;const o=e.treeIds.map(e=>le(ce,{treeId:e},e)),n=o.filter((e,t)=>t%2==0),r=o.filter((e,t)=>t%2!=0),a=null!==(t=e.options[u.w.SET_WIDTH])&&void 0!==t?t:0,c=i.useMemo(()=>({"--width":a+"px"}),[a]);return le("main",{className:"main_3B-s1"},void 0,le("section",{className:"master_1BQEn _panel_3U9u_",style:c},void 0,e.mainTreeHeader,n),!!r.length&&le("section",{className:"slave_1_aPQ _panel_3U9u_",style:c},void 0,r))};function ue(e,t,o,n){de||(de="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:de,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var pe,fe=({children:e,onDragEnd:t,onDrop:o})=>{const n=(()=>{const[e,t]=i.useState(null),[o,n]=i.useState({x:0,y:0}),[r,a]=i.useState(null),c=i.useCallback(e=>{t(e),a(null)},[]),l=i.useCallback(e=>{a(e),t(null)},[]),d=i.useCallback(()=>{a(null),t(null)},[]);return i.useMemo(()=>({activeKey:e,mouseCoordinate:o,pendingKey:r,setActiveKey:c,setMouseCoordinate:n,setPendingKey:l,unsetAllKeys:d}),[e,o,r,c,l,d])})(),{activeKey:r,unsetAllKeys:a}=n,c=null!==r,l=e=>{c&&1!==e.buttons&&(a(),null!==r&&o(e,r),t(e))};return Object(h.a)(document.body,"mouseenter",l),Object(h.a)(window,"mouseup",l),ue(x.a.Provider,{value:n},void 0,e)};function ye(e,t,o,n){pe||(pe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:pe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var be,he=e=>{const t=Array.from(e.keys()).sort();return t[t.length-1]},me=()=>window.navigator.platform.startsWith("Mac"),Oe=({key:e,priority:t,windowId:o},n)=>{const{addEventListener:r,removeEventListener:a}=i.useContext(m),c=i.useRef(n);c.current=n;const l=i.useRef(e);l.current=e,i.useEffect(()=>{const e={key:l.current,priority:t,windowId:o},n=e=>{c.current&&c.current(e)};return r(e,n),()=>{a(e,n)}},[r,t,a,o])};function ve(e,t,o,n){be||(be="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:be,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ge,Ie,ke=e=>{const t=(()=>{const[e,t]=i.useReducer(P,B),o=O(t,L.removeList),n=O(t,L.resetLists),r=O(t,L.setHighlightedIndex),a=O(t,L.setItemCount),c=O(t,L.unsetHighlightedIndex);return i.useMemo(()=>({lists:e,removeList:o,resetLists:n,setHighlightedIndex:r,setItemCount:a,unsetHighlightedIndex:c}),[e,o,n,r,a,c])})();return ve(W.Provider,{value:t},void 0,e.children)},je=({windowId:e,onPressArrowDown:t,onPressArrowLeft:o,onPressArrowRight:n,onPressArrowUp:r})=>{const{lists:a,removeList:c,setHighlightedIndex:l}=i.useContext(W),d=i.useRef(a);d.current=a;const s=i.useCallback(e=>()=>{const{highlightedIndices:t,itemCounts:o}=d.current,n=he(o);if(void 0===n)return;const r=o.get(n);if(void 0===r)return;const i=t.get(n),a=(s=r-1,(c=0)>(u=(void 0!==i?i:-1)+e)?s:u>s?c:u);var c,s,u;l(n,a)},[l]),u=i.useCallback(e=>{t&&t(e),s(1)()},[s,t]);Oe({key:"ArrowDown",windowId:e},u);const p=i.useCallback(e=>{r&&r(e),s(-1)()},[s,r]);Oe({key:"ArrowUp",windowId:e},p);const f=i.useCallback(e=>{e.shiftKey?p(e):u(e)},[u,p]);Oe({key:"Tab",windowId:e},f);const y=i.useCallback(e=>{o&&o(e);const{itemCounts:t}=d.current;if(1>=t.size)return;const n=he(t);void 0!==n&&c(n)},[o,c]);Oe({key:"ArrowLeft",windowId:e},y);const b=i.useCallback(e=>{n&&n(e);const{itemCounts:t}=d.current,o=he(t);void 0!==o&&l(o+1,0)},[n,l]);Oe({key:"ArrowRight",windowId:e},b)};function we(e,t,o,n){ge||(ge="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:ge,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Ee(e,t,o,n){Ie||(Ie="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Ie,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}const _e=e=>e.bookmark.trees.map(e=>e.parent.id);var Se,Ae=(e=>t=>{const o=Object(M.a)(D.a.moveBookmarkToDragIndicator),n=Object(M.a)(D.a.removeDragIndicator),r=i.useCallback(()=>{n()},[n]),a=i.useCallback((e,t)=>{o(t)},[o]);return ye(fe,{onDragEnd:r,onDrop:a},void 0,i.createElement(e,t))})((e=>{const t=t=>{const o=Object(a.d)(e=>e.ui.highlightedItemCoordinates),n=Object(a.d)(e=>e.options),r=Object(a.d)(e=>e.bookmark.trees),c=Object(M.a)(D.a.openBookmarksInBrowser),l=Object(M.a)(D.a.openBookmarkTree),d=Object(M.a)(D.d.openMenu),s=Object(M.a)(D.a.removeNextBookmarkTrees),{lists:p}=i.useContext(W),f=i.useRef(p);f.current=p;const y=i.useCallback(()=>{r.length>1&&s(r[r.length-2].parent.id)},[s,r]),b=i.useCallback(()=>{const{highlightedIndices:e,itemCounts:t}=f.current,o=he(t);if(void 0===o)return;const n=r[o];if(!n)return;const i=e.get(o);if(void 0===i)return;const a=n.children[i];a&&a.type===u.a.FOLDER&&l(a.id,n.parent.id)},[l,r]);je({windowId:"BASE_WINDOW",onPressArrowLeft:y,onPressArrowRight:b}),Oe({key:"Enter",windowId:"BASE_WINDOW"},e=>{var t;const{highlightedIndices:o,itemCounts:i}=f.current,a=he(i);if(void 0===a)return;const l=r[a];if(!l)return;const d=null!==(t=o.get(a))&&void 0!==t?t:0,s=l.children[d];if(!s)return;const u=n[ee(e)],p=te(u);c([s.id],{...p,isAllowBookmarklet:!0})});const h=i.useCallback(()=>{const{highlightedIndices:e,itemCounts:t}=f.current,n=he(t);if(void 0===n)return;const i=r[n];if(!i)return;const a=e.get(n);if(void 0===a)return;const c=i.children[a];c&&d(c.id,o)},[o,d,r]);return Oe({key:me()?"Control":"ContextMenu",windowId:"BASE_WINDOW"},h),i.createElement(e,t)};return e=>we(ke,{},void 0,i.createElement(t,e))})(e=>{(()=>{const e=Object(M.a)(D.a.refreshBookmarkTrees);i.useEffect(()=>{const t=Z()(e,100);return l.a.bookmarks.onChanged.addListener(t),l.a.bookmarks.onCreated.addListener(t),l.a.bookmarks.onMoved.addListener(t),l.a.bookmarks.onRemoved.addListener(t),()=>{l.a.bookmarks.onChanged.removeListener(t),l.a.bookmarks.onCreated.removeListener(t),l.a.bookmarks.onMoved.removeListener(t),l.a.bookmarks.onRemoved.removeListener(t)}},[e])})();const t=Object(a.d)(e=>e.options),o=Object(a.d)(_e);return Ee(C,{windowId:"BASE_WINDOW"},void 0,Ee(se,{mainTreeHeader:e.mainTreeHeader,options:t,treeIds:o}))})),Te=o(113),Re=o.n(Te),Ce=({positionLeft:e,positionTop:t,...o})=>{const{appendBodySize:n,removeBodySize:r}=b(),a=i.useRef(null),c=Re()(a),[l,d]=i.useState({left:0,top:0});i.useEffect(()=>{if(!document.body)return;const o=document.body.scrollHeight,i=document.body.offsetWidth,a=c.height>o?c.height:void 0,l=c.width>i?c.width:void 0;d({left:Math.min(e,(void 0!==l?l:i)-c.width),top:Math.min(t,(void 0!==a?a:o)-c.height)});const s={height:a,width:l};return n(s),()=>{r(s)}},[n,c.height,c.width,e,t,r]);const s=i.useMemo(()=>({"--positionLeft":l.left+"px","--positionTop":l.top+"px"}),[l.left,l.top]);return i.createElement("div",{ref:a,className:"wrapper_1VY9h",style:s},o.children)};function Me(e,t,o,n){Se||(Se="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Se,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}const De=e=>{e.preventDefault()};var xe,Ne=e=>{const{onConfirm:t}=e,[o,n]=i.useState(e.initialTitle),[r,a]=i.useState(e.initialUrl),c=i.useCallback(()=>{t(o,r)},[t,o,r]),d=i.useCallback(e=>{n(e.currentTarget.value)},[]),s=i.useCallback(e=>{a(e.currentTarget.value)},[]);return Me("form",{className:"main_nYoU3",style:i.useMemo(()=>({"--width":e.width+"px"}),[e.width]),onSubmit:De},void 0,Me("span",{className:"header_pkjSS"},void 0,e.header),Me("input",{className:"input_2yVVc focus_33qAH input_2RY7f",type:"text",value:o,onChange:d,autoFocus:!0}),e.isAllowEditUrl&&Me("input",{className:"input_2yVVc focus_33qAH input_2RY7f",type:"text",value:r,onChange:s}),Me(X.a,{type:"submit",onClick:c},void 0,l.a.i18n.getMessage("confirm")),Me(X.a,{onClick:e.onCancel},void 0,l.a.i18n.getMessage("cancel")))};function Be(e,t,o,n){xe||(xe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:xe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var Le,Pe=()=>{const e=Object(a.d)(e=>e.editor.title),t=Object(a.d)(e=>e.editor.url),o=Object(a.d)(e=>e.editor.isAllowEditUrl),n=Object(a.d)(e=>e.editor.isCreating),r=Object(a.d)(e=>e.editor.positionLeft),c=Object(a.d)(e=>e.editor.positionTop),d=Object(a.d)(e=>e.editor.targetId),s=Object(a.d)(e=>e.options[u.w.SET_WIDTH]),p=Object(M.a)(D.b.closeEditor),f=Object(M.a)(D.a.createBookmarkAfterId),y=Object(M.a)(D.a.editBookmark),b=i.useCallback((e,t)=>{n?d&&f(d,e,t):d&&y(d,e,t),p()},[p,f,y,n,d]);return i.createElement(i.Fragment,null,Be(H,{opacity:.3,onClick:p}),Be(Ce,{positionLeft:r,positionTop:c},void 0,Be(C,{windowId:"EDITOR_WINDOW"},void 0,Be(Ne,{isAllowEditUrl:o,header:l.a.i18n.getMessage(o?"edit":"rename"),initialTitle:e,initialUrl:t,width:null!=s?s:0,onCancel:p,onConfirm:b}))))},Ke=(o(81),o(82),"main_1lvhQ");function We(e,t,o,n){Le||(Le="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Le,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var Fe,Ue=({onMouseEnter:e,onMouseLeave:t,rowIndex:o,rowName:n,...r})=>{const a=i.useMemo(()=>e(o),[e,o]),c=i.useMemo(()=>t(o),[t,o]);return We("div",{className:R()("main_aA8b- list-item_3-Rl5",{focused_3sKMS:r.isFocused,unclickable_15uEW:r.isUnclickable}),onClick:r.isUnclickable?void 0:r.onClick,onMouseEnter:a,onMouseLeave:c},void 0,l.a.i18n.getMessage(n))};function He(e,t,o,n){Fe||(Fe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Fe,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var $e,Ge=e=>{const t=e.menuPattern.flat();return He("div",{className:Ke},void 0,e.menuPattern.map(o=>He("div",{},o.join(),o.map(o=>{const n=t.indexOf(o);return He(Ue,{isFocused:n===e.highlightedIndex,isUnclickable:e.unclickableRows.includes(o),rowIndex:n,rowName:o,onClick:e.onRowClick,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave},o)}))))};function ze(e,t,o,n){$e||($e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:$e,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}const Ye=e=>e.bookmark.clipboard.id?[]:[u.q];var Ve,Xe=ze(ke,{},void 0,ze(()=>{const e=Object(a.d)(e=>e.menu.menuPattern),t=Object(a.d)(e=>e.menu.positionLeft),o=Object(a.d)(e=>e.menu.positionTop),n=Object(a.d)(Ye),r=Object(M.a)(D.d.clickMenuRow),c=Object(M.a)(D.d.closeMenu),{lists:l,setHighlightedIndex:d,unsetHighlightedIndex:s,setItemCount:u}=i.useContext(W),p=i.useMemo(()=>e.flat(),[e]),f=l.highlightedIndices.get(0);i.useEffect(()=>{u(0,p.length)},[p.length,u]),je({windowId:"MENU_WINDOW"});const y=i.useCallback(()=>{if(void 0===f)return;const e=p[f];e&&(r(e),c())},[p,r,c,f]);Oe({key:"Enter",windowId:"MENU_WINDOW"},y),Oe({key:me()?"Control":"ContextMenu",windowId:"MENU_WINDOW"},c);const b=i.useCallback(e=>()=>{d(0,e)},[d]),h=i.useCallback(e=>()=>{s(0,e)},[s]);return i.createElement(i.Fragment,null,ze(H,{opacity:.3,onClick:c}),ze(Ce,{positionLeft:t,positionTop:o},void 0,ze(C,{windowId:"MENU_WINDOW"},void 0,ze(Ge,{highlightedIndex:f,menuPattern:e,onRowClick:y,onRowMouseEnter:b,onRowMouseLeave:h,unclickableRows:n}))))},{})),qe=()=>Xe,Je=o(114),Qe=o.n(Je),Ze=o(115),et=o.n(Ze);function tt(e,t,o,n){Ve||(Ve="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:Ve,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ot,nt=({inputValue:e,isFocus:t,setInputValue:o,...n})=>{const r=i.useRef(null);i.useEffect(()=>{t&&r.current!==document.activeElement&&r.current&&r.current.focus()},[t]);const a=i.useCallback(()=>{o("")},[o]);return tt("div",{className:"main_tOlCM"},void 0,tt("img",{className:"search-icon_1-3sw",src:et.a,alt:""}),i.createElement("input",{ref:r,className:"search-input_38HMX",type:"text",placeholder:l.a.i18n.getMessage("search"),value:e,tabIndex:-1,onBlur:n.onBlur,onFocus:n.onFocus,onChange:n.onChange}),e?tt("img",{className:"cancel-icon_35ZAb",src:Qe.a,alt:"",onClick:a}):null)};function rt(e,t,o,n){ot||(ot="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:ot,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var it;function at(e,t,o,n){it||(it="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:it,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ct,lt=at(Ae,{mainTreeHeader:at(()=>{const e=Object(a.d)(e=>e.ui.isFocusSearchInput),t=Object(M.a)(D.a.getSearchResult),o=Object(M.a)(D.g.setIsFocusSearchInput),[n,r]=i.useState("");i.useEffect(()=>{t(n)},[t,n]);const c=i.useCallback(e=>{document.activeElement instanceof HTMLInputElement||(r(e.key),o(!0))},[o]);Oe({key:/^.$/,windowId:"BASE_WINDOW"},c);const l=i.useCallback(()=>{o(!1)},[o]),d=i.useCallback(e=>{r(e.currentTarget.value)},[]),s=i.useCallback(()=>{o(!0)},[o]);return rt(nt,{inputValue:n,isFocus:e,onBlur:l,onFocus:s,onChange:d,setInputValue:r})},{})}),dt=at(Pe,{}),st=at(qe,{}),ut=e=>at("div",{className:"main_8VU1I",style:e.style},void 0,lt,e.isShowEditor&&dt,e.isShowMenu&&st);function pt(e,t,o,n){ct||(ct="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:ct,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ft,yt=pt(y,{},void 0,pt(A,{},void 0,pt(()=>{Object(h.a)(document,"contextmenu",e=>{e.target instanceof HTMLInputElement||e.preventDefault()}),Object(h.a)(document,"keydown",e=>{const t=document.activeElement instanceof HTMLInputElement&&""===document.activeElement.value;"Escape"===e.key&&t&&window.close()}),Object(h.a)(document,"mousedown",e=>{1===e.button&&e.preventDefault()});const e=Object(a.d)(e=>!!e.editor.targetId),t=Object(a.d)(e=>!!e.menu.targetId),o=Object(a.d)(e=>e.options),{globalBodySize:n}=b(),r=i.useMemo(()=>{var e;return{"--fontFamily":[o[u.w.FONT_FAMILY],"sans-serif"].filter(Boolean).join(","),"--fontSize":(null!==(e=o[u.w.FONT_SIZE])&&void 0!==e?e:12)+"px","--height":n&&void 0!==n.height?n.height+"px":"auto","--width":n&&void 0!==n.width?n.width+"px":"auto"}},[n,o]);return pt(ut,{isShowEditor:e,isShowMenu:t,style:r})},{})));function bt(e,t,o,n){ft||(ft="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=n;else if(i>1){for(var a=Array(i),c=0;i>c;c++)a[c]=arguments[c+3];t.children=a}if(t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});return{$$typeof:ft,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}var ht=bt(()=>yt,{});(async()=>{var e;const[t,o,n]=await Promise.all([l.a.storage.local.get(),l.a.storage.sync.get(),Object(s.j)()]);if(r.a(Object.keys(n),Object.keys(o)).length>0)return void await l.a.runtime.openOptionsPage();const c=Object(d.a)({rootReducer:D.e,rootSaga:D.f,preloadedState:{lastPositions:null!==(e=t.lastPositions)&&void 0!==e?e:[],options:o}});Object(s.p)(bt(i.StrictMode,{},void 0,bt(a.a,{store:c},void 0,ht)))})().catch(e=>{})},2(e,t,o){o.d(t,"b",()=>r),o.d(t,"c",()=>i),o.d(t,"t",()=>a),o.d(t,"u",()=>c),o.d(t,"y",()=>l),o.d(t,"z",()=>d),o.d(t,"d",()=>s),o.d(t,"e",()=>u),o.d(t,"f",()=>p),o.d(t,"g",()=>f),o.d(t,"h",()=>y),o.d(t,"i",()=>b),o.d(t,"j",()=>h),o.d(t,"k",()=>m),o.d(t,"l",()=>O),o.d(t,"m",()=>v),o.d(t,"n",()=>g),o.d(t,"o",()=>I),o.d(t,"p",()=>k),o.d(t,"q",()=>j),o.d(t,"r",()=>w),o.d(t,"s",()=>E),o.d(t,"v",()=>_),o.d(t,"a",()=>S);var n=o(7);o.d(t,"w",()=>n.a),o.d(t,"x",()=>n.b);const r=2,i=598,a=16,c="NO_BOOKMARK_ID_",l="SEARCH_RESULT_ID",d="http://separatethis.com/",s="addFolder",u="addPage",p="addSeparator",f="copy",y="cut",b="del",h="edit",m="openAll",O="openAllInI",v="openAllInN",g="openInB",I="openInI",k="openInN",j="paste",w="rename",E="sortByName";let _,S;(e=>{e[e.BACKGROUND_TAB=0]="BACKGROUND_TAB",e[e.CURRENT_TAB=1]="CURRENT_TAB",e[e.INCOGNITO_WINDOW=2]="INCOGNITO_WINDOW",e[e.NEW_TAB=3]="NEW_TAB",e[e.NEW_WINDOW=4]="NEW_WINDOW"})(_||(_={})),(e=>{e[e.BOOKMARK=0]="BOOKMARK",e[e.DRAG_INDICATOR=1]="DRAG_INDICATOR",e[e.FOLDER=2]="FOLDER",e[e.NO_BOOKMARK=3]="NO_BOOKMARK",e[e.SEPARATOR=4]="SEPARATOR"})(S||(S={}))},26(e,t,o){var n=o(21),r=o.n(n),i=o(0);t.a=({className:e,type:t="button",...o})=>i.createElement("button",Object.assign({},o,{className:r()("main_2KaJm focus_33qAH",e),type:t}))},28(e,t,o){var n=o(0);t.a=n.createContext({activeKey:null,mouseCoordinate:{x:0,y:0},pendingKey:null,setActiveKey(){},setMouseCoordinate(){},setPendingKey(){},unsetAllKeys(){}})},50(e,t,o){var n=o(25),r=o(64);t.a=({preloadedState:e,rootReducer:t,rootSaga:o})=>{const i=Object(r.a)(),a=Object(n.e)(t,e,Object(n.a)(i));return i.run(o),a}},6(e,t,o){o.d(t,"j",()=>c),o.d(t,"p",()=>d),o.d(t,"a",()=>u),o.d(t,"b",()=>p),o.d(t,"c",()=>f),o.d(t,"d",()=>y),o.d(t,"e",()=>b),o.d(t,"f",()=>h),o.d(t,"g",()=>m),o.d(t,"h",()=>O),o.d(t,"i",()=>v),o.d(t,"k",()=>g),o.d(t,"l",()=>I),o.d(t,"m",()=>k),o.d(t,"n",()=>j),o.d(t,"o",()=>w),o.d(t,"q",()=>E),o.d(t,"r",()=>_),o.d(t,"s",()=>S),o.d(t,"t",()=>A),o.d(t,"u",()=>T),o(12),o(41),o(14);var n=o(5),r=o.n(n),i=o(7);const a=e=>e.map(e=>r.a.i18n.getMessage(e));var c=async()=>{const e=a(["clickOption1","clickOption2","clickOption3","clickOption4","clickOption5","clickOption6","clickOption7"]),t=[],o=await r.a.bookmarks.getChildren(i.b);for(const e of o)t[+e.id]=e.title;return{[i.a.CLICK_BY_LEFT]:{type:"select",default:0,choices:e},[i.a.CLICK_BY_LEFT_CTRL]:{type:"select",default:4,choices:e},[i.a.CLICK_BY_LEFT_SHIFT]:{type:"select",default:5,choices:e},[i.a.CLICK_BY_MIDDLE]:{type:"select",default:2,choices:e},[i.a.DEF_EXPAND]:{type:"select",default:1,choices:t},[i.a.FONT_FAMILY]:{type:"string",default:"sans-serif",choices:["monospace","sans-serif","serif","Archivo Narrow","Arial","Comic Sans MS","Georgia","Lucida Sans Unicode","Tahoma","Trebuchet MS","Verdana"]},[i.a.FONT_SIZE]:{type:"integer",default:12,minimum:10,maximum:30},[i.a.HIDE_ROOT_FOLDER]:{type:"array",default:[],choices:t},[i.a.MAX_RESULTS]:{type:"integer",default:50,minimum:10,maximum:200},[i.a.OP_FOLDER_BY]:{type:"boolean",default:!1},[i.a.REMEMBER_POS]:{type:"boolean",default:!1},[i.a.SEARCH_TARGET]:{type:"select",default:0,choices:a(["searchTargetOption1","searchTargetOption2"])},[i.a.SET_WIDTH]:{type:"integer",default:280,minimum:100,maximum:399},[i.a.TOOLTIP]:{type:"boolean",default:!1},[i.a.WARN_OPEN_MANY]:{type:"boolean",default:!0}}},l=o(42),d=e=>{const t=document.createElement("div");l.render(e,t),document.body&&document.body.appendChild(t)};const s=e=>(...t)=>e(...t),u=s(r.a.storage.sync.clear),p=s(r.a.bookmarks.create),f=s(r.a.tabs.create),y=s(r.a.windows.create),b=s(r.a.tabs.executeScript),h=s(r.a.bookmarks.getChildren),m=s(r.a.bookmarks.get),O=s(r.a.i18n.getMessage),v=s(r.a.storage.local.get),g=s(r.a.storage.sync.get),I=s(r.a.bookmarks.move),k=s(r.a.tabs.query),j=s(r.a.bookmarks.remove),w=s(r.a.bookmarks.removeTree),E=s(r.a.bookmarks.search),_=s(r.a.storage.local.set),S=s(r.a.storage.sync.set),A=s(r.a.bookmarks.update),T=s(r.a.tabs.update)},61(e,t,o){t.a={"list-item":"list-item_-HFBz",main:"main_3Wz3X"}},7(e,t,o){let n;o.d(t,"a",()=>n),o.d(t,"b",()=>r),(e=>{e.CLICK_BY_LEFT="clickByLeft",e.CLICK_BY_LEFT_CTRL="clickByLeftCtrl",e.CLICK_BY_LEFT_SHIFT="clickByLeftShift",e.CLICK_BY_MIDDLE="clickByMiddle",e.DEF_EXPAND="defExpand",e.FONT_FAMILY="fontFamily",e.FONT_SIZE="fontSize",e.HIDE_ROOT_FOLDER="hideRootFolder",e.MAX_RESULTS="maxResults",e.OP_FOLDER_BY="opFolderBy",e.REMEMBER_POS="rememberPos",e.SEARCH_TARGET="searchTarget",e.SET_WIDTH="setWidth",e.TOOLTIP="tooltip",e.WARN_OPEN_MANY="warnOpenMany"})(n||(n={}));const r="0"},80(e,t,o){}});