parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"wNgb":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,r=arguments[3];!function(r,s){if("function"==typeof e&&e.amd)e("webextension-polyfill",["module"],s);else if("undefined"!=typeof exports)s(module);else{var g={exports:{}};s(g),r.browser=g.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",s="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",g=e=>{const g={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(g).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,r){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const a=(r,s)=>(...g)=>{e.runtime.lastError?r.reject(new Error(e.runtime.lastError.message)):s.singleCallbackArg||g.length<=1&&!1!==s.singleCallbackArg?r.resolve(g[0]):r.resolve(g)},m=e=>1==e?"argument":"arguments",t=(e,r,s)=>new Proxy(r,{apply:(r,g,n)=>s.call(g,e,...n)});let A=Function.call.bind(Object.prototype.hasOwnProperty);const i=(e,r={},s={})=>{let g=Object.create(null),n={has:(r,s)=>s in e||s in g,get(n,o,l){if(o in g)return g[o];if(!(o in e))return;let x=e[o];if("function"==typeof x)if("function"==typeof r[o])x=t(e,e[o],r[o]);else if(A(s,o)){let r=((e,r)=>(function(s,...g){if(g.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${m(r.minArgs)} for ${e}(), got ${g.length}`);if(g.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${m(r.maxArgs)} for ${e}(), got ${g.length}`);return new Promise((n,m)=>{if(r.fallbackToNoCallback)try{s[e](...g,a({resolve:n,reject:m},r))}catch(t){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",t),s[e](...g),r.fallbackToNoCallback=!1,r.noCallback=!0,n()}else r.noCallback?(s[e](...g),n()):s[e](...g,a({resolve:n,reject:m},r))})}))(o,s[o]);x=t(e,e[o],r)}else x=x.bind(e);else if("object"==typeof x&&null!==x&&(A(r,o)||A(s,o)))x=i(x,r[o],s[o]);else{if(!A(s,"*"))return Object.defineProperty(g,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(r){e[o]=r}}),x;x=i(x,r[o],s["*"])}return g[o]=x,x},set:(r,s,n,a)=>(s in g?g[s]=n:e[s]=n,!0),defineProperty:(e,r,s)=>Reflect.defineProperty(g,r,s),deleteProperty:(e,r)=>Reflect.deleteProperty(g,r)},o=Object.create(e);return new Proxy(o,n)},o=e=>({addListener(r,s,...g){r.addListener(e.get(s),...g)},hasListener:(r,s)=>r.hasListener(e.get(s)),removeListener(r,s){r.removeListener(e.get(s))}}),l=new n(e=>"function"!=typeof e?e:function(r){const s=i(r,{},{getContent:{minArgs:0,maxArgs:0}});e(s)});let x=!1;const c=new n(e=>"function"!=typeof e?e:function(r,g,n){let a,m,t=!1,A=new Promise(e=>{a=function(r){x||(console.warn(s,(new Error).stack),x=!0),t=!0,e(r)}});try{m=e(r,g,a)}catch(l){m=Promise.reject(l)}const i=!0!==m&&(e=>e&&"object"==typeof e&&"function"==typeof e.then)(m);if(!0!==m&&!i&&!t)return!1;const o=e=>{e.then(e=>{n(e)},e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:r})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return o(i?m:A),!0}),d=(s,g,n,...a)=>{if(a.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${m(g.minArgs)} for ${s}(), got ${a.length}`);if(a.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${m(g.maxArgs)} for ${s}(), got ${a.length}`);return new Promise((s,g)=>{const m=(({reject:s,resolve:g},n)=>{e.runtime.lastError?e.runtime.lastError.message===r?g():s(new Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?s(new Error(n.message)):g(n)}).bind(null,{resolve:s,reject:g});a.push(m),n.sendMessage(...a)})},u={devtools:{network:{onRequestFinished:o(l)}},runtime:{onMessage:o(c),onMessageExternal:o(c),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return g.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},i(e,u,g)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=g(chrome)}else e.exports=browser});
},{}],"psnZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.browser=require("webextension-polyfill");
},{"webextension-polyfill":"wNgb"}],"hP6F":[function(require,module,exports) {
var define;
var global = arguments[3];
var n,t=arguments[3];!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof n&&n.amd?n(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["fast-equals"]={})}(this,function(n){"use strict";var t="function"==typeof WeakSet,e=Object.keys;function r(n,t){return n===t||n!=n&&t!=t}function o(n){return n.constructor===Object||null==n.constructor}function u(n){return!!n&&"function"==typeof n.then}function i(n){return!(!n||!n.$$typeof)}function f(){var n=[];return{add:function(t){n.push(t)},has:function(t){return-1!==n.indexOf(t)}}}var a=t?function(){return new WeakSet}:f;function c(n){return function(t){var e=n||t;return function(n,t,r){void 0===r&&(r=a());var o=!!n&&"object"==typeof n,u=!!t&&"object"==typeof t;if(o||u){var i=o&&r.has(n),f=u&&r.has(t);if(i||f)return i&&f;o&&r.add(n),u&&r.add(t)}return e(n,t,r)}}}var s="_owner",l=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function p(n,t,r,o){var u=e(n),f=u.length;if(e(t).length!==f)return!1;if(f)for(var a=void 0;f-- >0;){if((a=u[f])===s){var c=i(n),p=i(t);if((c||p)&&c!==p)return!1}if(!l(t,a)||!r(n[a],t[a],o))return!1}return!0}var y="function"==typeof Map,d="function"==typeof Set;function v(n){var t="function"==typeof n?n(e):e;function e(n,e,i){if(n===e)return!0;if(n&&e&&"object"==typeof n&&"object"==typeof e){if(o(n)&&o(e))return p(n,e,t,i);var f=Array.isArray(n),a=Array.isArray(e);return f||a?f===a&&function(n,t,e,r){var o=n.length;if(t.length!==o)return!1;for(;o-- >0;)if(!e(n[o],t[o],r))return!1;return!0}(n,e,t,i):(f=n instanceof Date,a=e instanceof Date,f||a?f===a&&r(n.getTime(),e.getTime()):(f=n instanceof RegExp,a=e instanceof RegExp,f||a?f===a&&function(n,t){return n.source===t.source&&n.global===t.global&&n.ignoreCase===t.ignoreCase&&n.multiline===t.multiline&&n.unicode===t.unicode&&n.sticky===t.sticky&&n.lastIndex===t.lastIndex}(n,e):u(n)||u(e)?n===e:y&&(f=n instanceof Map,a=e instanceof Map,f||a)?f===a&&function(n,t,e,r){var o=n.size===t.size;return o&&n.size&&n.forEach(function(n,u){o&&(o=!1,t.forEach(function(t,i){!o&&e(u,i,r)&&(o=e(n,t,r))}))}),o}(n,e,t,i):d&&(f=n instanceof Set,a=e instanceof Set,f||a)?f===a&&function(n,t,e,r){var o=n.size===t.size;return o&&n.size&&n.forEach(function(n){o&&(o=!1,t.forEach(function(t){o||(o=e(n,t,r))}))}),o}(n,e,t,i):p(n,e,t,i)))}return n!=n&&e!=e}return e}var h=v(),g=v(function(){return r}),b=v(c()),E=v(c(r));n.circularDeepEqual=b,n.circularShallowEqual=E,n.createCustomEqual=v,n.deepEqual=h,n.sameValueZeroEqual=r,n.shallowEqual=g,Object.defineProperty(n,"__esModule",{value:!0})});
},{}],"oHxt":[function(require,module,exports) {
"use strict";function t(t,e){return e===t||"*"===e}function e(e,r){return r.length===e.length&&Array(r.length).fill(0).map((t,e)=>e).every(n=>t(e[n],r[n]))}function r(t){const[e,...r]=t.split(".").reverse();return{tail:r,tld:e}}function n(t,e){const r=e.get(t);if(null==r){const r=new Set;return e.set(t,r),r}return r}function o(t,n){const o=r(n),i=t.get(o.tld);return null!=i&&Array.from(i).some(t=>e(o.tail,t))}function i(t){const e=new Map;return t.map(r).forEach(t=>n(t.tld,e).add(t.tail)),t=>o(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOMAIN_NAME_FILTER_PATTERN=exports.domainFilterFrom=void 0,exports.domainFilterFrom=i,exports.DOMAIN_NAME_FILTER_PATTERN=/^(?:(?:[\w-]+|\*)\.)*(?:[\w-]+|\*)$/iu;
},{}],"tf7T":[function(require,module,exports) {
"use strict";function t(t){return r=>"boolean"==typeof r?r:t}function r(t,...r){return e=>"number"==typeof e&&r.every(t=>t(e))?e:t}function e(t,...r){return e=>"string"==typeof e&&r.every(t=>t(e))?e:t}function n(t,r){return e=>{return"string"==typeof e&&Object.values(t).map(t=>t).includes(e)?e:r}}function o(t,...r){return e=>Array.isArray(e)&&e.every(t=>"string"==typeof t&&r.every(r=>r(t)))?e:t}function s(t){return r=>{const e=r*10**t;return e===Math.round(e)}}function u(t){return r=>t.test(r)}function p(t){return t.trim().length>0}function i(t){return r=>r>t}function c(t){return r=>r>=t}function x(t){return r=>r<=t}function f(t,r){const e={};for(const n of Object.getOwnPropertyNames(r))if(Object.prototype.hasOwnProperty.call(r,n)){const o=r[n],s=t[n];e[n]=o(s)}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sanitize=exports.lte=exports.gte=exports.gt=exports.notBlank=exports.matching=exports.roundedTo=exports.stringArray=exports.stringEnum=exports.str=exports.num=exports.bool=void 0,exports.bool=t,exports.num=r,exports.str=e,exports.stringEnum=n,exports.stringArray=o,exports.roundedTo=s,exports.matching=u,exports.notBlank=p,exports.gt=i,exports.gte=c,exports.lte=x,exports.sanitize=f;
},{}],"QYfS":[function(require,module,exports) {
"use strict";var t,o,e,i,n;Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilenameVariables=exports.ConflictAction=exports.HoverButtonSkin=exports.HoverButtonPosition=exports.ClickType=void 0,function(t){t.none="none",t.singleLeft="singleLeft",t.doubleLeft="doubleLeft",t.singleRight="singleRight",t.doubleRight="doubleRight"}(t=exports.ClickType||(exports.ClickType={})),function(t){t.topLeftNE="1_2",t.topLeftSW="1_3",t.topLeftSE="1_4",t.topRightNW="2_1",t.topRightSW="2_3",t.topRightSE="2_4",t.bottomLeftNW="3_1",t.bottomleftNE="3_2",t.bottomLeftSE="3_4",t.bottomRightNW="4_1",t.bottomRightNE="4_2",t.bottomRightSW="4_3",t.northNorth="1",t.north="2",t.westWest="3",t.west="4",t.center="5",t.east="6",t.eastEast="7",t.south="8",t.southSouth="9"}(o=exports.HoverButtonPosition||(exports.HoverButtonPosition={})),function(t){t.original="original",t.alt1="alt1"}(e=exports.HoverButtonSkin||(exports.HoverButtonSkin={})),function(t){t.autoUnique="uniquify",t.prompt="prompt",t.overwrite="overwrite"}(i=exports.ConflictAction||(exports.ConflictAction={})),function(t){t.tabDomain="%pagedomain%",t.tabDirs="%pagedirs%",t.tabPath="%pagepath%",t.tabTitle="%title%",t.imageDomain="%imagedomain%",t.imageDirs="%imagedirs%",t.imagePath="%imagepath%",t.counter="%counter%",t.inferred="%original%",t.year="%y%",t.month="%M%",t.day="%d%",t.hour="%h%",t.minute="%m%",t.second="%s%",t.millisecond="%ms%"}(n=exports.FilenameVariables||(exports.FilenameVariables={}));
},{}],"G1x6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.correct=exports.write=exports.read=exports.isSetting=void 0;const e=require("webextension-polyfill-ts"),t=require("../filtering"),n=require("./validation"),o=require("./enums"),r={aggressiveCursorTracking:n.bool(!1),buttonOpacity:n.num(1,n.gte(.1),n.lte(1),n.roundedTo(2)),buttonPosition:n.stringEnum(o.HoverButtonPosition,o.HoverButtonPosition.topRightSW),buttonSize:n.num(48,Number.isInteger,n.gte(8),n.lte(512)),counterPadding:n.num(1,Number.isInteger,n.gte(0)),counterStart:n.num(1,Number.isInteger,n.gte(0)),counterStep:n.num(1,Number.isInteger,n.gte(0)),doubleRightClickMillis:n.num(250,Number.isInteger,n.gt(0)),enableImageContextMenu:n.bool(!0),enableRename:n.bool(!1),enableSelectionContextMenu:n.bool(!0),excludedPageDomains:n.stringArray([],n.matching(t.DOMAIN_NAME_FILTER_PATTERN)),excludedSourceDomains:n.stringArray([],n.matching(t.DOMAIN_NAME_FILTER_PATTERN)),fileNamePattern:n.str(o.FilenameVariables.inferred,n.notBlank),greyOut:n.bool(!0),minimumImageSize:n.num(100,Number.isInteger,n.gte(1)),notify:n.bool(!1),onFilenameConflict:n.stringEnum(o.ConflictAction,o.ConflictAction.autoUnique),oneClickStyle:n.stringEnum(o.HoverButtonSkin,o.HoverButtonSkin.alt1),pageDomainsAreWhitelist:n.bool(!1),persist:n.bool(!1),requireShift:n.bool(!1),singleClickEnabled:n.bool(!1),sourceDomainsAreWhitelist:n.bool(!1),supportDragDrop:n.bool(!0),triggerByClickType:n.stringEnum(o.ClickType,o.ClickType.doubleLeft)};function i(e){return e in r}async function s(){return await e.browser.storage.sync.get(Object.keys(r))}async function u(t){return e.browser.storage.sync.set(t)}function l(e){return n.sanitize(e,r)}exports.isSetting=i,exports.read=s,exports.write=u,exports.correct=l;
},{"webextension-polyfill-ts":"psnZ","../filtering":"oHxt","./validation":"tf7T","./enums":"QYfS"}],"jbcu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.passesSizeRestrictions=exports.passesShiftKeySetting=exports.validate=exports.load=void 0;const e=require("fast-equals"),t=require("./io");async function i(){const e=await t.read();return t.correct(e)}async function s(){const i=await t.read(),s=t.correct(i);return!!e.deepEqual(s,i)||(await t.write(s),!1)}function r(e,t){return!t.requireShift||e.shiftKey}function a(e,t){return e.width>t.minimumImageSize&&e.height>t.minimumImageSize}exports.load=i,exports.validate=s,exports.passesShiftKeySetting=r,exports.passesSizeRestrictions=a;
},{"fast-equals":"hP6F","./io":"G1x6"}],"zqSa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.monitorStorage=exports.monitor=void 0;const t=require("webextension-polyfill-ts"),e=require("./settings"),o=require("./io"),n=new Map;async function r(t){const o=await e.load(),r=t.flatMap(t=>{var e;return null!==(e=n.get(t))&&void 0!==e?e:[]}).map(t=>t(o));await Promise.all(r)}function i(t,e,o){const n=t.get(e);return null==n?(t.set(e,o),o):n}function s(t,e){i(n,t,[]).push(e)}async function a(t,e){if("sync"===e){const e=Object.keys(t).flatMap(t=>o.isSetting(t)?[t]:[]);await r(e)}}function c(){t.browser.storage.onChanged.addListener((t,e)=>void a(t,e).catch(console.error))}exports.monitor=s,exports.monitorStorage=c;
},{"webextension-polyfill-ts":"psnZ","./settings":"jbcu","./io":"G1x6"}],"HE2E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLastPosition=exports.trackCursor=void 0;const e=require("../common/settings/monitoring");let t=null;function o(e){t=[e.clientX,e.clientY]}function r(e){e.aggressiveCursorTracking?document.addEventListener("mousemove",o):document.removeEventListener("mousemove",o)}function n(){return t}exports.trackCursor=r,e.monitor("aggressiveCursorTracking",r),exports.getLastPosition=n;
},{"../common/settings/monitoring":"zqSa"}],"Dovi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class r extends Error{constructor(r){super(`Unreachable case: ${r}`)}}function e(r,e="no additional info provided"){if(!r)throw new Error("Assertion Error: "+e)}function o(...r){}exports.UnreachableCaseError=r,exports.assert=e,exports.noop=o;
},{}],"fv3V":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./functions"));
},{"./functions":"Dovi"}],"GaKM":[function(require,module,exports) {
"use strict";function t(t){return"IMG"===t.nodeName}function e(t){for(const r of t.childNodes){if("IMG"===r.nodeName)return r;const t=e(r);if(null!=t)return t}return null}function r(t){return 0===t.button}function i(t){return 2===t.button}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isRightClick=exports.isLeftClick=exports.findImageDepthFirst=exports.isImage=void 0,exports.isImage=t,exports.findImageDepthFirst=e,exports.isLeftClick=r,exports.isRightClick=i;
},{}],"BG1x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asMessage=exports.hotkeyTriggered=exports.requestDownload=exports.finished=exports.started=exports.signal=void 0;const e=["getImagesInSelection","hotkeyTriggered"];function t(e){return{subject:e}}exports.signal=t;const o={afterHotkeyTriggered:"afterHotkeyTriggered",downloadFinished:"downloadFinished",downloadRequested:"downloadRequested",downloadStarted:"downloadStarted"};function r(e){return{downloadId:e,subject:o.downloadStarted}}function n(e){return{downloadId:e,subject:o.downloadFinished}}function s(e){return{imageUrl:e.src,subject:o.downloadRequested}}function d(e){return{imageFound:e,subject:o.afterHotkeyTriggered}}exports.started=r,exports.finished=n,exports.requestDownload=s,exports.hotkeyTriggered=d;const i=[...e,...Object.values(o)];function u(e){return"string"==typeof e.subject}function a(e){return"object"==typeof e&&null!=e&&u(e)&&i.includes(e.subject)}function c(e){if(a(e))return e;throw new Error(`${JSON.stringify(e)} is not a message`)}exports.asMessage=c;
},{}],"kRJE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.completeDownload=exports.startDownload=void 0;const e=require("webextension-polyfill-ts"),o=require("../common/messages"),t=require("../common/settings/settings"),s="doubleclick-image-downloader-active",n=new Map;function r(e,o){e.classList.add(s),n.set(o.downloadId,e)}async function d(s){const n=e.browser.runtime.sendMessage(o.requestDownload(s)).then(o.asMessage),[d,a]=await Promise.all([n,t.load()]);if("downloadStarted"!==d.subject)throw new Error(`unexpected response ${JSON.stringify(d)}`);a.greyOut&&r(s,d)}function a(e){const o=n.get(e.downloadId);if(null==o)throw new Error(`unmatched image for download ${e.downloadId}`);o.classList.remove(s),n.delete(e.downloadId)}exports.startDownload=d,exports.completeDownload=a;
},{"webextension-polyfill-ts":"psnZ","../common/messages":"BG1x","../common/settings/settings":"jbcu"}],"BOzH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFilterState=void 0;const e=require("../../common/filtering"),i=require("../../common/settings/settings"),r=require("../../common/settings/monitoring"),t={filters:null,invert:null},o={filters:null,invert:null};function n(){r.monitor("excludedPageDomains",i=>{t.filters=Promise.resolve(e.domainFilterFrom(i.excludedPageDomains))}),r.monitor("pageDomainsAreWhitelist",e=>{t.invert=Promise.resolve(e.pageDomainsAreWhitelist)}),r.monitor("excludedSourceDomains",i=>{o.filters=Promise.resolve(e.domainFilterFrom(i.excludedSourceDomains))}),r.monitor("sourceDomainsAreWhitelist",e=>{o.invert=Promise.resolve(e.sourceDomainsAreWhitelist)})}async function l(){if(null==t.filters||null==t.invert||null==o.filters||null==o.invert){const r=i.load();t.filters=r.then(i=>e.domainFilterFrom(i.excludedPageDomains)),t.invert=r.then(e=>e.pageDomainsAreWhitelist),o.filters=r.then(i=>e.domainFilterFrom(i.excludedSourceDomains)),o.invert=r.then(e=>e.sourceDomainsAreWhitelist),Promise.all([r,t.filters,t.invert,o.filters,o.invert]).then(n).catch(console.error)}return Promise.all([t.filters,t.invert,o.filters,o.invert])}exports.getFilterState=l;
},{"../../common/filtering":"oHxt","../../common/settings/settings":"jbcu","../../common/settings/monitoring":"zqSa"}],"IOZh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filteringAllows=void 0;const e=require("./state");async function t(t){const[o,s,n,r]=await e.getFilterState();return t instanceof Location?o(t.hostname)===s:n(new URL(t.src).hostname)===r}exports.filteringAllows=t;
},{"./state":"BOzH"}],"LxBa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.monitorClicks=void 0;const e=require("ts-essentials"),i=require("../common/settings/enums"),t=require("./dom"),n=require("./downloads"),r=require("../common/settings/settings"),s=require("./filtering");async function o(e,i){const o=i.target;if(r.passesShiftKeySetting(i,e)&&await s.filteringAllows(location)){const c=t.isImage(o)?o:null;null!=c&&r.passesSizeRestrictions(c,e)&&await s.filteringAllows(c)&&(i.stopPropagation(),await n.startDownload(c))}}async function c(e,i){t.isLeftClick(i)&&await o(e,i)}const l=(()=>{let e=0;return async(n,r)=>{if(t.isRightClick(r)){const t=Date.now(),s=e;e=t,(n.triggerByClickType===i.ClickType.singleRight||t-s<n.doubleRightClickMillis)&&await o(n,r)}}})();function a(t){switch(t.triggerByClickType){case i.ClickType.none:throw new Error("can't make dummy listener");case i.ClickType.singleLeft:case i.ClickType.doubleLeft:{const e=e=>void c(t,e).catch(console.error);return[t.triggerByClickType===i.ClickType.singleLeft?"click":"dblclick",e]}case i.ClickType.singleRight:case i.ClickType.doubleRight:return["mouseup",e=>void l(t,e).catch(console.error)];default:throw new e.UnreachableCaseError(t.triggerByClickType)}}function g(e){if(e.triggerByClickType===i.ClickType.none)return;const[t,n]=a(e);document.addEventListener(t,n)}exports.monitorClicks=g;
},{"ts-essentials":"fv3V","../common/settings/enums":"QYfS","./dom":"GaKM","./downloads":"kRJE","../common/settings/settings":"jbcu","./filtering":"IOZh"}],"FpyJ":[function(require,module,exports) {
"use strict";function e(){const e=new Map;return{expose:{subscribe:(r,s)=>{const t=Symbol(s);return e.set(t,r),t},unsubscribe:r=>e.delete(r)},hide:{hasSubscribers:()=>e.size>0,trigger:r=>e.forEach(e=>e(r))}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.triggerable=void 0,exports.triggerable=e;
},{}],"FK2J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.insertCss=exports.SKIN_CLASSES=exports.HTML_BUTTON_ID=void 0;const e=require("webextension-polyfill-ts"),t=require("../../common/settings/enums");function o(){const o=document.createElement("style");document.head.appendChild(o),Object.values(t.HoverButtonSkin).forEach(t=>{const n=e.browser.runtime.getURL(`images/download_on_${t}.png`),r=e.browser.runtime.getURL(`images/download_off_${t}.png`),s=exports.SKIN_CLASSES[t];o.sheet.insertRule(`#${exports.HTML_BUTTON_ID}.${s} {background-image: url('${r}');}`,0),o.sheet.insertRule(`#${exports.HTML_BUTTON_ID}.${s}:hover {background-image: url('${n}');}`,1)})}exports.HTML_BUTTON_ID="singleclick-image-downloader",exports.SKIN_CLASSES={[t.HoverButtonSkin.original]:`skin-${t.HoverButtonSkin.original}`,[t.HoverButtonSkin.alt1]:`skin-${t.HoverButtonSkin.alt1}`},exports.insertCss=o;
},{"webextension-polyfill-ts":"psnZ","../../common/settings/enums":"QYfS"}],"vtDs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setCoordinates=exports.setSize=exports.setOpacity=exports.setSkin=exports.unsert=exports.insert=exports.isInserted=exports.isButton=exports.click=exports.drop=void 0;const e=require("../../common/triggerable"),t=require("./skinning"),s=document.createElement("div");s.id=t.HTML_BUTTON_ID,s.title="Download image";const{hide:r,expose:o}=e.triggerable();exports.drop=o;const{hide:i,expose:n}=e.triggerable();function p(e){return s===e}function d(){return null!=s.parentNode}exports.click=n,s.addEventListener("dragover",e=>{r.hasSubscribers()&&e.preventDefault()}),s.addEventListener("drop",e=>{e.preventDefault(),r.trigger(void 0)}),s.addEventListener("click",e=>{e.stopPropagation(),i.trigger(void 0)},!0),exports.isButton=p,exports.isInserted=d;let c=!1;function l(){c||(t.insertCss(),c=!0),document.body.appendChild(s)}function a(){document.body.removeChild(s)}function u(e){s.classList.remove(...Object.values(t.SKIN_CLASSES)),s.classList.add(t.SKIN_CLASSES[e.oneClickStyle])}function x(e){s.style.opacity=String(e.buttonOpacity)}function g(e){s.style.height=`${e}px`,s.style.width=`${e}px`}function S(e,t){s.style.left=`${e}px`,s.style.top=`${t}px`}exports.insert=l,exports.unsert=a,exports.setSkin=u,exports.setOpacity=x,exports.setSize=g,exports.setCoordinates=S;
},{"../../common/triggerable":"FpyJ","./skinning":"FK2J"}],"ecA0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.monitorDrags=void 0;const e=require("./dom"),o=require("./downloads"),r=require("./hoverbutton/element"),t=require("../common/settings/monitoring");let n=null;function d(e){n=e.target}function i(){n=null}function u(){if(null==n)throw new Error("how did you drop without dragging?");const r=e.isImage(n)?n:e.findImageDepthFirst(n);null!=r&&o.startDownload(r).catch(console.error)}const s=(()=>{let e=null;return o=>{o.supportDragDrop?(document.body.addEventListener("dragstart",d),document.body.addEventListener("dragend",i),e=r.drop.subscribe(()=>u(),"download dropped image")):(null!=e&&(r.drop.unsubscribe(e),e=null),document.body.removeEventListener("dragend",i),document.body.removeEventListener("dragstart",d))}})();function a(e){s(e),t.monitor("supportDragDrop",e=>s(e))}exports.monitorDrags=a;
},{"./dom":"GaKM","./downloads":"kRJE","./hoverbutton/element":"vtDs","../common/settings/monitoring":"zqSa"}],"bPgd":[function(require,module,exports) {
"use strict";function t(){return{height:Math.max(document.documentElement.clientHeight,document.body.clientHeight),width:Math.max(document.documentElement.clientWidth,document.body.clientWidth)}}function e(t){const{height:e,width:i}=t.getBoundingClientRect();return{height:e,width:i}}function i(t,e){return{height:t.height-e,width:t.width-e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shrink=exports.matching=exports.ofViewport=void 0,exports.ofViewport=t,exports.matching=e,exports.shrink=i;
},{}],"FMnt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.constrainTo=exports.add=exports.relativeTo=exports.topLeftOf=void 0;const t=require("../../common/settings/enums"),o=(t,o)=>0-o,n=()=>0,e=(t,o)=>(t-o)/2,i=(t,o)=>t-o,r=t=>t,s={[t.HoverButtonPosition.topLeftSW]:[o,n],[t.HoverButtonPosition.westWest]:[o,e],[t.HoverButtonPosition.bottomLeftNW]:[o,i],[t.HoverButtonPosition.topLeftNE]:[n,o],[t.HoverButtonPosition.topLeftSE]:[n,n],[t.HoverButtonPosition.west]:[n,n],[t.HoverButtonPosition.bottomleftNE]:[n,i],[t.HoverButtonPosition.bottomLeftSE]:[n,r],[t.HoverButtonPosition.northNorth]:[e,o],[t.HoverButtonPosition.north]:[e,n],[t.HoverButtonPosition.center]:[e,e],[t.HoverButtonPosition.south]:[e,i],[t.HoverButtonPosition.southSouth]:[e,r],[t.HoverButtonPosition.topRightNW]:[i,o],[t.HoverButtonPosition.topRightSW]:[i,n],[t.HoverButtonPosition.east]:[i,e],[t.HoverButtonPosition.bottomRightNW]:[i,i],[t.HoverButtonPosition.bottomRightSW]:[i,r],[t.HoverButtonPosition.topRightSE]:[r,n],[t.HoverButtonPosition.eastEast]:[r,e],[t.HoverButtonPosition.bottomRightNE]:[r,i]};function u(t){const{left:o,top:n}=t.getBoundingClientRect();return{x:o,y:n}}function v(t,o,n){const e=s[o];return{x:e[0](t.width,n),y:e[1](t.height,n)}}function h(t,o){return{x:t.x+o.x,y:t.y+o.y}}function B(t,o){return{x:Math.max(0,Math.min(o.width,t.x)),y:Math.max(0,Math.min(o.height,t.y))}}exports.topLeftOf=u,exports.relativeTo=v,exports.add=h,exports.constrainTo=B;
},{"../../common/settings/enums":"QYfS"}],"Jrxq":[function(require,module,exports) {
"use strict";var t=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),e=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&t(o,n,i);return e(o,n),o};Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=exports.attachTo=exports.remove=exports.updateVisualsOnChanges=void 0;const o=require("../downloads"),i=require("../../common/settings/monitoring"),r=require("./area"),s=n(require("./element")),u=require("./offset");let a=null,l=null;function c(){if(null==l)throw new Error("button is not initialized yet");if(null==a)throw new Error("cannot align without anchor");const t=u.relativeTo(r.matching(a),l.position,l.size),e=u.add(t,u.topLeftOf(a)),n=r.shrink(r.ofViewport(),l.size),{x:o,y:i}=u.constrainTo(e,n);s.setCoordinates(o,i)}function d(t){if(null==l)throw new Error("button is not initialized yet");l.size=t.buttonSize,s.setSize(l.size),s.isInserted()&&c()}function f(t){if(null==l)throw new Error("button is not initialized yet");l.position=t.buttonPosition,s.isInserted()&&c()}function p(){document.addEventListener("scroll",c),s.insert()}function h(){i.monitor("buttonSize",t=>d(t)),i.monitor("buttonPosition",t=>f(t)),i.monitor("buttonOpacity",t=>s.setOpacity(t)),i.monitor("oneClickStyle",t=>s.setSkin(t))}function b(){s.isInserted()&&(s.unsert(),document.removeEventListener("scroll",c),a=null)}function m(t){s.isInserted()||p(),a=t,c()}function w(t){l={position:t.buttonPosition,size:t.buttonSize},s.setSkin(t),s.setOpacity(t),d(t),f(t),s.click.subscribe(()=>{if(null==a)throw new Error("button attached to nothing?");o.startDownload(a).catch(console.error)},"download hovered image")}exports.updateVisualsOnChanges=h,exports.remove=b,exports.attachTo=m,exports.init=w;
},{"../downloads":"kRJE","../../common/settings/monitoring":"zqSa","./area":"bPgd","./element":"vtDs","./offset":"FMnt"}],"disu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLastHoveredElement=exports.trackHovers=exports.hover=void 0;const e=require("../common/triggerable"),t=require("./hoverbutton/element");let r=null;const{hide:o,expose:s}=e.triggerable();function n(){document.addEventListener("mouseover",e=>{const s=e.target;t.isButton(s)||s===r||(r=s,o.trigger(e))})}function i(){return r}exports.hover=s,exports.trackHovers=n,exports.getLastHoveredElement=i;
},{"../common/triggerable":"FpyJ","./hoverbutton/element":"vtDs"}],"V2Hd":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var r={};if(null!=i)for(var n in i)"default"!==n&&Object.prototype.hasOwnProperty.call(i,n)&&e(r,i,n);return t(r,i),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.armHoverButton=void 0;const r=require("../../common/settings/settings"),n=require("../filtering"),o=i(require("./layout")),s=require("../dom"),u=require("../hover-tracking"),l=require("../../common/settings/monitoring");async function a(e,t){const i=t.target;if(s.isImage(i)){r.passesShiftKeySetting(t,e)&&r.passesSizeRestrictions(i,e)&&await n.filteringAllows(location)&&await n.filteringAllows(i)?o.attachTo(i):o.remove()}else e.persist||o.remove()}let c=null;function f(e){e.singleClickEnabled?null==c&&(c=u.hover.subscribe(t=>void a(e,t).catch(console.error),"move button onto hovered image")):(null!=c&&(u.hover.unsubscribe(c),c=null),o.remove())}function d(e){o.init(e),f(e),o.updateVisualsOnChanges(),l.monitor("singleClickEnabled",e=>f(e))}exports.armHoverButton=d;
},{"../../common/settings/settings":"jbcu","../filtering":"IOZh","./layout":"Jrxq","../dom":"GaKM","../hover-tracking":"disu","../../common/settings/monitoring":"zqSa"}],"hNzr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.downloadHoveredImage=void 0;const e=require("../common/messages"),o=require("./cursor-tracking"),r=require("./dom"),t=require("./downloads"),n=require("./hover-tracking");function s(){const e=n.getLastHoveredElement();return!(null==e||!r.isImage(e))&&(t.startDownload(e).catch(console.error),!0)}function c(){const e=o.getLastPosition();if(null==e)return!1;const n=document.elementsFromPoint(...e);for(const o of n){const e=r.findImageDepthFirst(o);if(null!=e)return t.startDownload(e).catch(console.error),!0}return!1}function i(){return e.hotkeyTriggered(s()||c())}exports.downloadHoveredImage=i;
},{"../common/messages":"BG1x","./cursor-tracking":"HE2E","./dom":"GaKM","./downloads":"kRJE","./hover-tracking":"disu"}],"uqsv":[function(require,module,exports) {
"use strict";function e(){const e=getSelection();if(null==e)throw new Error("too late to get the selection?");return Array.from(document.images).filter(t=>e.containsNode(t))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getImagesInSelection=void 0,exports.getImagesInSelection=e;
},{}],"PrwV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.listenForMessages=void 0;const e=require("webextension-polyfill-ts"),o=require("../common/messages"),r=require("./downloads"),s=require("./hotkey"),n=require("./selection");async function t(e){switch(e.subject){case"downloadStarted":throw new Error("download start message should have been handled inline");case"getImagesInSelection":return void(await Promise.all(n.getImagesInSelection().map(r.startDownload)));case"downloadFinished":return void r.completeDownload(e);case"downloadRequested":throw new Error("content script should not receive download request");case"hotkeyTriggered":return s.downloadHoveredImage();default:throw new Error(`unrecognized message: ${JSON.stringify(e)}`)}}function a(){e.browser.runtime.onMessage.addListener(async e=>t(o.asMessage(e)).catch(console.error))}exports.listenForMessages=a;
},{"webextension-polyfill-ts":"psnZ","../common/messages":"BG1x","./downloads":"kRJE","./hotkey":"hNzr","./selection":"uqsv"}],"hNRT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./content/cursor-tracking"),r=require("./content/doubleclick"),t=require("./content/drag"),o=require("./content/hoverbutton/hoverbutton"),n=require("./content/messaging"),i=require("./common/settings/settings"),s=require("./common/settings/monitoring"),c=require("./content/hover-tracking");i.load().then(i=>{r.monitorClicks(i),o.armHoverButton(i),t.monitorDrags(i),e.trackCursor(i),c.trackHovers(),n.listenForMessages(),s.monitorStorage()}).catch(console.error);
},{"./content/cursor-tracking":"HE2E","./content/doubleclick":"LxBa","./content/drag":"ecA0","./content/hoverbutton/hoverbutton":"V2Hd","./content/messaging":"PrwV","./common/settings/settings":"jbcu","./common/settings/monitoring":"zqSa","./content/hover-tracking":"disu"}]},{},["hNRT"], null)
//# sourceMappingURL=/content.js.map